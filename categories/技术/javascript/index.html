<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<title>
  
    分类: javascript
  
</title>

<meta name="description" content="人生是一场不断的转换，我们试着所向披靡">
<meta property="og:type" content="website">
<meta property="og:title" content="findmoon-白色蜗牛">
<meta property="og:url" content="//findmoon.github.io/index.html/categories/技术/javascript/index.html">
<meta property="og:site_name" content="findmoon-白色蜗牛">
<meta property="og:description" content="人生是一场不断的转换，我们试着所向披靡">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="findmoon-白色蜗牛">
<meta name="twitter:description" content="人生是一场不断的转换，我们试着所向披靡">




  <link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="/perfect-scrollbar/css/perfect-scrollbar.min.css">
<link rel="stylesheet" href="/styles/main.css">






</head>
<body
  
    class="monochrome"
  
  >
  <div class="mobile-header">
  <button class="sidebar-toggle" type="button">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a class="title" href="/">findmoon-白色蜗牛</a>
</div>

  <div class="main-container">
    <div class="sidebar">
  <div class="header">
    <h1 class="title"><a href="/">findmoon-白色蜗牛</a></h1>
    
      <p class="subtitle">
        一个试图专注于自身的成长者
      </p>
    
    <div class="info">
      <div class="content">
        
          <div class="description">人生是一场不断的转换，我们试着所向披靡</div>
        
        
          <div class="author">findmoon</div>
        
      </div>
      
        <div class="avatar">
          
            <a href="/about"><img src="http://i2.piimg.com/81760750547ee122.jpg"></a>
          
        </div>
      
    </div>
  </div>
  <div class="body">
    
      
        <ul class="nav">
          
            
              <li class="category-list-container">
                <a href="javascript:;">分类</a>
                <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/html/">html</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术/">技术</a><span class="category-list-count">133</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/方法-实例/">方法/实例</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a><span class="category-list-count">10</span></li></ul>
              </li>
            
          
            
              <li class="tag-list-container">
                <a href="javascript:;">标签</a>
                <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Array/">Array</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BFC/">BFC</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Backbone/">Backbone</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS3动画/">CSS3动画</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DNS解析域名/">DNS解析域名</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DOCTYPE/">DOCTYPE</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/">Javascript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MV模式/">MV模式</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mocha/">Mocha</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP-UDP/">TCP/UDP</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP三次握手/">TCP三次握手</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TDD/">TDD</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UNICODE-ASCII/">UNICODE/ASCII</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animate/">animate()</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/animate动画队列/">animate动画队列</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/background-image/">background-image</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/border/">border</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/border图形/">border图形</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/box-shadow/">box-shadow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/console-log/">console.log()</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css3/">css3</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css属性/">css属性</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css样式/">css样式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deferred/">deferred</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/delete/">delete</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/first-child/">first-child</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/first-of-type/">first-of-type</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/float/">float</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/font-face/">font-face</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/form表单/">form表单</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/get/">get</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gitbash/">gitbash</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git错误/">git错误</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hack/">hack</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/haslayout/">haslayout</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/">html</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http状态码/">http状态码</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/inline-block/">inline-block</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/input/">input</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/instanceof/">instanceof</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/instanceof-typeof/">instanceof/typeof</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/json/">json</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js严格模式/">js严格模式</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js加载/">js加载</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js模板引擎/">js模板引擎</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/list-style/">list-style</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/meta/">meta</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mock/">mock</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/offset/">offset()</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/overflow/">overflow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/">php</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/placeholder/">placeholder</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/position/">position</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/position文档流/">position文档流</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/post/">post</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scopechain/">scopechain</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/stopImmediatePropagation/">stopImmediatePropagation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/stringify/">stringify</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sublime/">sublime</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/this/">this</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/typeof/">typeof</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/undefined/">undefined</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/url加载/">url加载</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zoom/">zoom</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/代码书写/">代码书写</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/函数/">函数</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/列表/">列表</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动画animation/">动画animation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/变量/">变量</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/同源跨域/">同源跨域</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符串/">字符串</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字面量/">字面量</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/库与架构/">库与架构</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数学函数/">数学函数</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据包组装/">数据包组装</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数组/">数组</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/方法/">方法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/标记语言/">标记语言</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模块化编程/">模块化编程</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/立即执行函数/">立即执行函数</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网站访问/">网站访问</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/获取路径/">获取路径</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/行内元素/">行内元素</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/语法/">语法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/跨域请求/">跨域请求</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/跨域请求处理方法/">跨域请求处理方法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/选择器/">选择器</a><span class="tag-list-count">1</span></li></ul>
              </li>
            
          
            
              <li class="archive-list-container">
                <a href="javascript:;">归档</a>
                <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/">2016</a><span class="archive-list-count">161</span></li></ul>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="/" title="Homepage">Homepage</a>
              </li>
            
          
            
              <li>
                <a href="/archives" title="By Year">By Year</a>
              </li>
            
          
            
              <li>
                <a href="/work" title="work">work</a>
              </li>
            
          
            
              <li>
                <a href="/about" title="about">about</a>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="http://findmoon.github.io/" title="findmoon" target="_blank" rel="external">findmoon</a>
              </li>
            
          
            
              <li>
                <a href="https://github.com/findmoon/findmoon.github.io" title="Github" target="_blank" rel="external">Github</a>
              </li>
            
          
        </ul>
      
    
  </div>
</div>

    <div class="main-content">
      
        <div style="max-width: 1000px">
      
          <h1>javascript</h1>


  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/05/19/CSS动画和javascript动画/" >
  CSS动画和javascript动画
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/05/19/CSS动画和javascript动画/"><span class="article-date">
  2016-05-19
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/">技术</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/javascript/">javascript</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/动画animation/">动画animation</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>根据Google Developer，Chromium项目里，渲染线程分为main thread和compositor thread。</p>
<p>如果CSS动画只是改变transforms和opacity，这时整个CSS动画得以在compositor thread完成（而JS动画则会在main thread执行，然后触发compositor进行下一步操作）<br>在JS执行一些昂贵的任务时，main thread繁忙，CSS动画由于使用了compositor thread可以保持流畅，可参考]adobe的博客](<a href="http://blogs.adobe.com/webplatform/2014/03/18/css-animations-and-transitions-performance/)。" target="_blank" rel="external">http://blogs.adobe.com/webplatform/2014/03/18/css-animations-and-transitions-performance/)。</a></p>
<blockquote>
<p>在主线程中，维护了一棵Layer树（LayerTreeHost），管理了TiledLayer，在compositor thread，维护了同样一颗LayerTreeHostImpl，管理了LayerImpl，这两棵树的内容是拷贝关系。因此可以彼此不干扰，当Javascript在main thread操作LayerTreeHost的同时，compositor thread可以用LayerTreeHostImpl做渲染。当Javascript繁忙导致主线程卡住时，合成到屏幕的过程也是流畅的。</p>
</blockquote>
<p>为了实现防假死，鼠标键盘消息会被首先分发到compositor thread，然后再到main thread。这样，当main thread繁忙时，compositor thread还是能够响应一部分消息，例如，鼠标滚动时，加入main thread繁忙，compositor thread也会处理滚动消息，滚动已经被提交的页面部分（未被提交的部分将被刷白）。</p>
<p>CSS动画比JS流畅的前提：</p>
<blockquote>
<p>在Chromium基础上的浏览器中<br>JS在执行一些昂贵的任务<br>同时CSS动画不触发layout或paint<br>在CSS动画或JS动画触发了paint或layout时，需要main thread进行Layer树的重计算，这时CSS动画或JS动画都会阻塞后续操作。<br>参考CSS Triggers，只有如下属性的修改才符合“仅触发Composite，不触发layout或paint”：</p>
</blockquote>
<p>backface-visibility<br>opacity<br>perspective<br>perspective-origin<br>transfrom<br>所以只有用上了3D加速或修改opacity时，才有机会用得上CSS动画的这一优势。</p>
<p>因此，在大部分应用场景下，效率角度更值得关注的还是下列问题。</p>
<ul>
<li>是否导致layout<br>repaint的面积<br>是否是有高消耗的属性（css shadow等）<br>是否启用硬件加速<br>那么Chromium以外的其他浏览器呢？CSSTrick里比较了一次效率。</li>
</ul>
<p>CSS3的动画的优点：</p>
<ul>
<li><p>在性能上会稍微好一些，浏览器会对CSS3的动画做一些优化（比如专门新建一个图层用来跑动画）<br>代码相对简单<br>但其缺点也很明显：</p>
</li>
<li><p>在动画控制上不够灵活<br>兼容性不好<br>部分动画功能无法实现（如滚动动画，视差滚动等）<br>JavaScript的动画正好弥补了这两个缺点，控制能力很强，可以单帧的控制、变换，同时写得好完全可以兼容IE6，并且功能强大。但想想CSS动画的transform矩阵是C++级的计算，必然要比javascript级的计算要快。另外对库的依赖也是一个很让人头疼的问题。</p>
</li>
</ul>
<p>所以，对于一些复杂控制的动画，使用javascript会比较靠谱。而在实现一些小的交互动效的时候，就多考虑考虑CSS吧</p>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/05/18/JSON.stringify 语法实例/" >
  JSON.stringify 语法实例
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/05/18/JSON.stringify 语法实例/"><span class="article-date">
  2016-05-18
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/">技术</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/javascript/">javascript</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/stringify/">stringify</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>JSON.stringify 语法实例讲解</p>
<blockquote>
<p>可能有些人对系列化这个词过敏，我的理解很简单。就是说把原来是对象的类型转换成字符串类型（或者更确切的说是json类型的）。就这么简单。打个比方说，你有一个类，那么你可以通过这个方法转换成相应的json类型的</p>
</blockquote>
<p><em>*作用：这个函数的作用主要是为了系列化对象的。</em></p>
<p>系列化就是说把原来是对象的类型转换成字符串类型（或者更确切的说是json类型的）。打个比方说，你有一个类，那么你可以通过这个方法转换成相应的json类型的。</p>
<ul>
<li>语法：<br>JSON.stringify(value [, replacer] [, space]) </li>
</ul>
<blockquote>
<p>value：是必须要的字段。就是你输入的对象，比如数组啊，类啊等等。<br>replacer：这个是可选的。它又分为2种方式，一种是方法，第二种是数组。</p>
</blockquote>
<ul>
<li>情况一：我们先说数据，通过我们后面的实验可以知道，它是和第一个有关系的。一般来说，我们系列化后的结果是通过键值对来进行表示的。 </li>
</ul>
<p>比如说：<br>name:”lan”,age:25<br>这种形式。</p>
<p>所以，如果这种形式的话，如果第二个的值在第一个存在，那么的话就以第二个的值做key，第一个值为value进行表示，如果不存在，sorry，忽略。【是不是有点抽象，我也这么觉得，不过你等一下看实验 就OK了。。呼呼。】</p>
<ul>
<li>情况二：如果是方法，那很简单，就是说把系列化后的每一个对象（记住 是每一个）传进方法里面进行处理。 </li>
</ul>
<p>space：很好理解，用什么来做分隔符的。 </p>
<blockquote>
<p>1.如果省略的话，那么显示出来的值 就没有分隔符。直接输出来<br>2.如果是一个数字的话，那么它就定义缩进几个字符，当然 如果大于10 ，则最大值为10.<br>3.如果是一些转义字符，比如“\t”，表示回车，那么它每行一个回车。<br>4.如果仅仅是字符串，OK，就在每行输出值的时候把这些字符串附加上去就OK。当然，最大长度也是10个字符。 </p>
</blockquote>
<p>开始用实例说明； </p>
<h3 id="1-只有一个参数的情况下："><a href="#1-只有一个参数的情况下：" class="headerlink" title="1.只有一个参数的情况下："></a>1.只有一个参数的情况下：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var student = new Object(); </span><br><span class="line">student.name = &quot;Lanny&quot;; </span><br><span class="line">student.age = &quot;25&quot;; </span><br><span class="line">student.location = &quot;China&quot;; </span><br><span class="line">var json = JSON.stringify(student); </span><br><span class="line">alert(student);</span><br></pre></td></tr></table></figure>
<p>结果：<br><img src="/img/json/20120314150604999.png" alt=""></p>
<p>有些人可能会怀疑JSON.stringify的作用，OK。那假如，我们不要这个函数。代码下面的样子： </p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var student = new Object(); </span><br><span class="line">student.name = &quot;Lanny&quot;; </span><br><span class="line">student.age = &quot;25&quot;; </span><br><span class="line">student.location = &quot;China&quot;; </span><br><span class="line"></span><br><span class="line">// var json = JSON.stringify(student); </span><br><span class="line">alert(student);</span><br></pre></td></tr></table></figure>
<p>　恭喜你 得到的结果是：<br><img src="/img/json/20120314150604479.png" alt=""></p>
<p>###.第二个参数存在，并且第二个参数还是function的时候 </p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var students = new Array() ; </span><br><span class="line">students[0] = &quot;Lanny&quot;; </span><br><span class="line">students[1] = &quot;dong&quot;; </span><br><span class="line">students[2] = &quot;I love you&quot;; </span><br><span class="line">var json = JSON.stringify(students,switchUpper); </span><br><span class="line">function switchUpper(key, value) &#123; </span><br><span class="line">return value.toString().toUpperCase(); </span><br><span class="line">&#125; </span><br><span class="line">alert(json); </span><br><span class="line"></span><br><span class="line">　　　　　　　　//var json = JSON.stringify(students, function (key,value) &#123; </span><br><span class="line"></span><br><span class="line">　　　　　　　　//return value.toString().toUpperCase(); </span><br><span class="line"></span><br><span class="line">　　　　　　　//&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>上面的方法也可以换成下面的，2个都是一样，只是写法有那么一点点的不一样而已。<br>　得到结果如下：<br><img src="/img/json/20120314150604337.png" alt=""> </li>
</ul>
<h3 id="第二个参数存在，并且第二个参数不是function，而是数组的时候。"><a href="#第二个参数存在，并且第二个参数不是function，而是数组的时候。" class="headerlink" title=".第二个参数存在，并且第二个参数不是function，而是数组的时候。"></a>.第二个参数存在，并且第二个参数不是function，而是数组的时候。</h3><p>####.1 【误区】如果第一个参数是数组，第二个参数也是数组的话，只显示第一个参数的值。<br>比如： </p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var students = new Array() ; </span><br><span class="line">students[0] = &quot;Lanny&quot;; </span><br><span class="line">students[1] = &quot;dong&quot;; </span><br><span class="line">students[2] = &quot;I love you&quot;; </span><br><span class="line">var stu = new Array(); </span><br><span class="line">stu[0] = &quot;1&quot;; </span><br><span class="line">stu[1] = &quot;2&quot;; </span><br><span class="line">var json = JSON.stringify(students,stu); </span><br><span class="line">alert(json);</span><br></pre></td></tr></table></figure>
<p>　sorry 得到的结果就是：<br><img src="/img/json/20120314150605876.png" alt=""></p>
<p>第二个被忽略了，只是第一个被系列化了。 </p>
<h4 id="2-如果第一个是对象（这里说的对象就像在C-里面可以进行new的），第二个是数组的。"><a href="#2-如果第一个是对象（这里说的对象就像在C-里面可以进行new的），第二个是数组的。" class="headerlink" title="2 如果第一个是对象（这里说的对象就像在C#里面可以进行new的），第二个是数组的。"></a>2 如果第一个是对象（这里说的对象就像在C#里面可以进行new的），第二个是数组的。</h4><p>那么如果第二个的value在第一个存在，那么的话就以第二个的值做key，第一个值为value进行表示 </p>
<p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var student = new Object(); </span><br><span class="line">student.qq = &quot;5485891512&quot;; </span><br><span class="line">student.name = &quot;Lanny&quot;; </span><br><span class="line">student.age = 25; </span><br><span class="line"></span><br><span class="line">var stu = new Array(); </span><br><span class="line">stu[0] = &quot;qq&quot;; </span><br><span class="line">stu[1] = &quot;age&quot;; </span><br><span class="line">stu[2] = &quot;Hi&quot;;//这个student对象里不存在。 </span><br><span class="line"></span><br><span class="line">var json = JSON.stringify(student,stu); </span><br><span class="line">alert(json);</span><br></pre></td></tr></table></figure>
<p>　得到的结果如下：<br><img src="/img/json/20120314150606776.png" alt=""></p>
<p>因为stu[2] = “Hi”;这个Hi 在第一个找不到，所以就不进行显示了。 </p>
<h3 id="第三个参数"><a href="#第三个参数" class="headerlink" title=".第三个参数"></a>.第三个参数</h3><h4 id="1-如果省略的话，那么显示出来的值-就没有分隔符。直接输出来"><a href="#1-如果省略的话，那么显示出来的值-就没有分隔符。直接输出来" class="headerlink" title=".1.如果省略的话，那么显示出来的值 就没有分隔符。直接输出来"></a>.1.如果省略的话，那么显示出来的值 就没有分隔符。直接输出来</h4><p>比如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var student = new Object(); </span><br><span class="line">student.qq = &quot;5485891512&quot;; </span><br><span class="line">student.name = &quot;Lanny&quot;; </span><br><span class="line">student.age = 25; </span><br><span class="line"></span><br><span class="line">var stu = new Array(); </span><br><span class="line">stu[0] = &quot;qq&quot;; </span><br><span class="line">stu[1] = &quot;age&quot;; </span><br><span class="line">stu[2] = &quot;Hi&quot;; </span><br><span class="line"></span><br><span class="line">var json = JSON.stringify(student,stu); </span><br><span class="line">alert(json);</span><br></pre></td></tr></table></figure></p>
<p>输出的就是：<br><img src="/img/json/20120314150606776.png" alt=""></p>
<h4 id="2-如果是一个数字的话，那么它就定义缩进几个字符，当然-如果大于10-，则最大值为10"><a href="#2-如果是一个数字的话，那么它就定义缩进几个字符，当然-如果大于10-，则最大值为10" class="headerlink" title="2.如果是一个数字的话，那么它就定义缩进几个字符，当然 如果大于10 ，则最大值为10."></a>2.如果是一个数字的话，那么它就定义缩进几个字符，当然 如果大于10 ，则最大值为10.</h4><p>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var student = new Object(); </span><br><span class="line">student.qq = &quot;5485891512&quot;; </span><br><span class="line">student.name = &quot;Lanny&quot;; </span><br><span class="line">student.age = 25; </span><br><span class="line"></span><br><span class="line">var stu = new Array(); </span><br><span class="line">stu[0] = &quot;qq&quot;; </span><br><span class="line">stu[1] = &quot;age&quot;; </span><br><span class="line">stu[2] = &quot;Hi&quot;; </span><br><span class="line"></span><br><span class="line">var json = JSON.stringify(student,stu,100);//注意这里的100 </span><br><span class="line">alert(json);</span><br></pre></td></tr></table></figure>
<p>结果<br><img src="/img/json/20120314150606953.png" alt=""></p>
<p>空开来了10个字符。 </p>
<h4 id="3-如果是一些转义字符，比如“-t”，表示回车，那么它每行一个回车。"><a href="#3-如果是一些转义字符，比如“-t”，表示回车，那么它每行一个回车。" class="headerlink" title="3.如果是一些转义字符，比如“\t”，表示回车，那么它每行一个回车。"></a>3.如果是一些转义字符，比如“\t”，表示回车，那么它每行一个回车。</h4><p>也是一样。 </p>
<h4 id="4-如果仅仅是字符串，OK，就在每行输出值的时候把这些字符串附加上去就OK。当然，最大长度也是10个字符。"><a href="#4-如果仅仅是字符串，OK，就在每行输出值的时候把这些字符串附加上去就OK。当然，最大长度也是10个字符。" class="headerlink" title="4.如果仅仅是字符串，OK，就在每行输出值的时候把这些字符串附加上去就OK。当然，最大长度也是10个字符。"></a>4.如果仅仅是字符串，OK，就在每行输出值的时候把这些字符串附加上去就OK。当然，最大长度也是10个字符。</h4><p>如果是var json = JSON.stringify(student,stu,“HaiKou”);//</p>
<p><img src="/img/json/20120314150606568.png" alt=""></p>
<p><a href="http://www.jb51.net/article/29893.htm" target="_blank" rel="external">文章出处</a></p>
<p>另一处 –&gt; <a href="http://www.cnblogs.com/damonlan/" target="_blank" rel="external">http://www.cnblogs.com/damonlan/</a></p>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/05/18/将json字符串转化为数组/" >
  将json字符串转化为数组
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/05/18/将json字符串转化为数组/"><span class="article-date">
  2016-05-18
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/">技术</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/javascript/">javascript</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/json/">json</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>JS解析json数据（如何将json字符串转化为数组）</p>
<p>装载自<a href="http://hi.baidu.com/jiangzhong8715/item/b60dad33937e35109cc65e01" target="_blank" rel="external">http://hi.baidu.com/jiangzhong8715/item/b60dad33937e35109cc65e01</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot;&gt;</span><br><span class="line">&lt;HTML&gt;</span><br><span class="line">&lt;HEAD&gt;</span><br><span class="line">&lt;TITLE&gt; New Document &lt;/TITLE&gt;</span><br><span class="line"></span><br><span class="line">&lt;SCRIPT LANGUAGE=&quot;JavaScript&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var t=&quot;&#123;&apos;firstName&apos;: &apos;cyra&apos;, &apos;lastName&apos;: &apos;richardson&apos;, &apos;address&apos;: &#123; &apos;streetAddress&apos;: &apos;1 Microsoft way&apos;, &apos;city&apos;: &apos;Redmond&apos;, &apos;state&apos;: &apos;WA&apos;, &apos;postalCode&apos;: 98052 &#125;,&apos;phoneNumbers&apos;: [ &apos;425-777-7777&apos;,&apos;206-777-7777&apos; ] &#125;&quot;;</span><br><span class="line">var jsonobj=eval(&apos;(&apos;+t+&apos;)&apos;);</span><br><span class="line">alert(jsonobj.firstName); </span><br><span class="line">alert(jsonobj.lastName);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var t2=&quot;[&#123;name:&apos;zhangsan&apos;,age:&apos;24&apos;&#125;,&#123;name:&apos;lisi&apos;,age:&apos;30&apos;&#125;,&#123;name:&apos;wangwu&apos;,age:&apos;16&apos;&#125;,&#123;name:&apos;tianqi&apos;,age:&apos;7&apos;&#125;] &quot;;</span><br><span class="line">var myobj=eval(t2);</span><br><span class="line">for(var i=0;i&lt;myobj.length;i++)&#123;</span><br><span class="line">alert(myobj[i].name);</span><br><span class="line">alert(myobj[i].age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var t3=&quot;[[&apos;&lt;a href=# onclick=openLink(14113295100,社旗县国税局桥头税务所,14113295100,d6d223892dc94f5bb501d4408a68333d,swjg_dm);&gt;14113295100&lt;/a&gt;&apos;,&apos;社旗县国税局桥头税务所&apos;,&apos;社旗县城郊乡长江路西段&apos;]]&quot;;</span><br><span class="line">//通过eval() 函数可以将JSON字符串转化为对象</span><br><span class="line">var obj = eval(t3);</span><br><span class="line">for(var i=0;i&lt;obj.length;i++)&#123;</span><br><span class="line">for(var j=0;j&lt;obj[i].length;j++)&#123;</span><br><span class="line">alert(obj[i][j]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">//stringifier 函数的作用跟 parse 相反， 用来将一个js对象转换为 JSON 文本。</span><br><span class="line">var jsonText = JSON.stringify(obj); </span><br><span class="line">alert(jsonText);</span><br><span class="line"></span><br><span class="line">//如果基于安全的考虑的话，最好是使用一个 JSON 解析器。 一个 JSON 解析器将只接受 JSON 文本。所以是更安全的。</span><br><span class="line">var myObject = JSON.parse(myJSONtext, filter); </span><br><span class="line">//可选的 filter 参数将遍历每一个value key 值对， 并进行相关的处理。如：</span><br><span class="line">//如</span><br><span class="line">myData = JSON.parse(text, function (key, value) &#123;</span><br><span class="line"></span><br><span class="line">return key.indexOf(&apos;date&apos;) &gt;= 0 ? new Date(value) : value; &#125;);</span><br><span class="line"></span><br><span class="line">//stringifier 函数的作用跟 parse 相反， 用来将一个js对象转换为 JSON 文本。</span><br><span class="line">var myJSONText = JSON.stringifier(myObject); </span><br><span class="line">*/</span><br><span class="line">&lt;/SCRIPT&gt;</span><br><span class="line">&lt;/HEAD&gt;</span><br><span class="line"></span><br><span class="line">&lt;BODY&gt;</span><br><span class="line"></span><br><span class="line">&lt;/BODY&gt;</span><br><span class="line">&lt;/HTML&gt;</span><br></pre></td></tr></table></figure>
        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/05/17/JavaScript初学者应注意的七个细节/" >
  JavaScript初学者应注意的七个细节
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/05/17/JavaScript初学者应注意的七个细节/"><span class="article-date">
  2016-05-17
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/">技术</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/javascript/">javascript</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/代码书写/">代码书写</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>JavaScript初学者应注意的七个细节<br>、<a href="http://www.cnblogs.com/lhb25/archive/2011/01/10/1932284.html" target="_blank" rel="external">转自梦想天空的博客</a></p>
<p>　　每种语言都有它特别的地方，对于JavaScript来说，使用var就可以声明任意类型的变量，这门脚本语言看起来很简单，然而想要写出优雅的代码却是需要不断积累经验的。本文利列举了JavaScript初学者应该注意的七个细节，与大家分享。</p>
<p>（1）简化代码</p>
<p>JavaScript定义对象和数组非常简单，我们想要创建一个对象，一般是这样写的：  </p>
<p>&gt;<br>var car = new Object();<br>car.colour = ‘red’;<br>car.wheels = 4;<br>car.hubcaps = ‘spinning’;<br>car.age = 4;<br>下面的写法可以达到同样的效果：</p>
<p>&gt;<br>var car = {<br>    colour:’red’,<br>    wheels:4,<br>　　hubcaps:’spinning’,<br>　　age:4<br>}</p>
<p>后面的写法要短得多，而且你不需要重复写对象名称。</p>
<p>另外对于数组同样有简洁的写法，过去我们声明数组是这样写的：</p>
<p>&gt;<br>var moviesThatNeedBetterWriters = new Array(<br>  ‘Transformers’,’Transformers2’,’Avatar’,’Indiana Jones 4’<br>);</p>
<p>更简洁的写法是： </p>
<p>&gt;<br>var moviesThatNeedBetterWriters = [<br>  ‘Transformers’,’Transformers2’,’Avatar’,’Indiana Jones 4’<br>];</p>
<p>对于数组，还有关联数组这样一个特别的东西。 你会发现很多代码是这样定义对象的：</p>
<p>&gt;<br>var car = new Array();<br>car[‘colour’] = ‘red’;<br>car[‘wheels’] = 4;<br>car[‘hubcaps’] = ‘spinning’;<br>car[‘age’] = 4;</p>
<p>这太疯狂了，不要觉得困惑，“关联数组”只是对象的一个别名而已。</p>
<p>另外一个简化代码的方法是使用三元运算符，举个例子：</p>
<p>&gt;<br>var direction;<br>if(x &lt; 200){<br>  direction = 1;<br>} else {<br>  direction = -1;<br>}</p>
<p>我们可以使用如下的代码替换这种写法：</p>
<p>&gt;<br>var direction = x &lt; 200 ? 1 : -1;</p>
<p>（2）使用JSON作为数据格式   </p>
<p>伟大的Douglas Crockford发明了JSON数据格式来存储数据，你可以使用原生的javascript方法来存储复杂的数据而不需要进行任何额外的转换，例如：</p>
<p>&gt;<br>var band = {<br>  “name”:”The Red Hot Chili Peppers”,<br>  “members”:[<br>    {<br>      “name”:”Anthony Kiedis”,<br>      “role”:”lead vocals”<br>    },<br>    {<br>      “name”:”Michael ‘Flea’ Balzary”,<br>      “role”:”bass guitar, trumpet, backing vocals”<br>    },<br>    {<br>      “name”:”Chad Smith”,<br>      “role”:”drums,percussion”<br>    },<br>    {<br>      “name”:”John Frusciante”,<br>      “role”:”Lead Guitar”<br>    }<br>  ],<br>  “year”:”2009”<br>}<br>你可以使用在JavaScript中直接使用JSON，甚至作为API返回的一种格式，在许多的API中被应用，例如：</p>
<p>&gt;</p>
<p><div id="delicious"></div><script><br>function delicious(o){<br>  var out = ‘<ul>‘;<br>  for(var i=0;i<o.length;i++){
    out += '<li><a href="' + o[i].u + '">' +
           o[i].d + '</a></li>';
  }
  out += '</ul>';
  document.getElementById('delicious').innerHTML = out;
}
</script></p>
<script src="http://feeds.delicious.com/v2/json/codepo8/javascript?count=15&callback=delicious">
</script>

<p>这里调用delicious 的Web服务获取最新书签，以JSON格式返回，然后将它们显示成无序列表的形式。</p>
<p>从本质上讲，JSON是用于描述复杂的数据最轻量级的方式，而且直接它运行在浏览器中。 你甚至可以在PHP中调用 json_decode（）函数来使用它。</p>
<p>（3）尽量使用JavaScript原生函数 </p>
<p>要找一组数字中的最大数，我们可能会写一个循环，例如：</p>
<p>&gt;<br>var numbers = [3,342,23,22,124];<br>var max = 0;<br>for(var i=0;i<numbers.length;i++){ if(numbers[i]=""> max){<br>    max = numbers[i];<br>  }<br>}<br>alert(max);<br>其实，不用循环可以实现同样的功能：</numbers.length;i++){></p>
<p>&gt;<br>var numbers = [3,342,23,22,124];<br>numbers.sort(function(a,b){return b - a});<br>alert(numbers[0]);</p>
<p>而最简洁的写法是：</p>
<p>&gt;<br>Math.max(12,123,3,2,433,4); // returns 433<br>你甚至可以使用Math.max来检测浏览器支持哪个属性：</p>
<p>&gt;<br>var scrollTop= Math.max(<br> doc.documentElement.scrollTop,<br> doc.body.scrollTop<br>);</p>
<p>如果你想给一个元素增加class样式，可能原始的写法是这样的：</p>
<p>&gt;<br>function addclass(elm,newclass){<br>  var c = elm.className;<br>  elm.className = (c === ‘’) ? newclass : c+’ ‘+newclass;</p>
<p>而更优雅的写法是：</p>
<p>&gt;<br>function addclass(elm,newclass){<br>  var classes = elm.className.split(‘ ‘);<br>  classes.push(newclass);<br>  elm.className = classes.join(‘ ‘);<br>}</p>
<p>（4）事件委托</p>
<p>事件是JavaScript非常重要的一部分。我们想给一个列表中的链接绑定点击事件，一般的做法是写一个循环，给每个链接对象绑定事件，HTML代码如下：</p>
<p>&gt;</p>
<p></p><h2>Great Web resources</h2><p></p>
<ul id="resources"><br>  <li><a href="http://opera.com/wsc" target="_blank" rel="external">Opera Web Standards Curriculum</a></li><br>  <li><a href="http://sitepoint.com" target="_blank" rel="external">Sitepoint</a></li><br>  <li><a href="http://alistapart.com" target="_blank" rel="external">A List Apart</a></li><br>  <li><a href="http://yuiblog.com" target="_blank" rel="external">YUI Blog</a></li><br>  <li><a href="http://blameitonthevoices.com" target="_blank" rel="external">Blame it on the voices</a></li><br>  <li><a href="http://oddlyspecific.com" target="_blank" rel="external">Oddly specific</a></li><br></ul>

<p>脚本如下：</p>
<p>&gt;<br>// Classic event handling example<br>(function(){<br>  var resources = document.getElementById(‘resources’);<br>  var links = resources.getElementsByTagName(‘a’);<br>  var all = links.length;<br>  for(var i=0;i&lt;all;i++){<br>    // Attach a listener to each link<br>    links[i].addEventListener(‘click’,handler,false);<br>  };<br>  function handler(e){<br>    var x = e.target; // Get the link that was clicked<br>    alert(x);<br>    e.preventDefault();<br>  };<br>})();</p>
<p>更合理的写法是只给列表的父对象绑定事件，代码如下：<br>&gt;<br>(function(){<br>  var resources = document.getElementById(‘resources’);<br>  resources.addEventListener(‘click’,handler,false);<br>  function handler(e){<br>    var x = e.target; // get the link tha<br>    if(x.nodeName.toLowerCase() === ‘a’){<br>      alert(‘Event delegation:’ + x);<br>      e.preventDefault();<br>    }<br>  };<br>})();</p>
<p>（5）匿名函数</p>
<p>关于JavaScript的最头疼的事情之一是，它的变量没有特定的作用范围。 一般情况下，任何变量，函数，数组或对象都是全局性，这意味着在同一页上的其他脚本可以访问并覆盖它们。解决方法是把变量封装在一个匿名函数中。 例如，下面的定义将产生三个全局变量和和两个全局函数：</p>
<p>&gt;<br>var name = ‘Chris’;<br>var age = ‘34’;<br>var status = ‘single’;<br>function createMember(){<br>  // […]<br>}<br>function getMemberDetails(){<br>  // […]<br>}</p>
<p>封装后如下：</p>
<p>&gt;<br>var myApplication = function(){<br>  var name = ‘Chris’;<br>  var age = ‘34’;<br>  var status = ‘single’;<br>  return{<br>    createMember:function(){<br>      // […]<br>    },<br>    getMemberDetails:function(){<br>      // […]<br>    }<br>  }<br>}();<br>// myApplication.createMember() and<br>// myApplication.getMemberDetails() now works.</p>
<p>这被称为单体模式，是JavaScript设计模式的一种，这种模式在YUI中用得非常多，改进的写法是：  </p>
<p>&gt;<br>var myApplication = function(){<br>  var name = ‘Chris’;<br>  var age = ‘34’;<br>  var status = ‘single’;<br>  function createMember(){<br>    // […]<br>  }<br>  function getMemberDetails(){<br>    // […]<br>  }<br>  return{<br>    create:createMember,<br>    get:getMemberDetails<br>  }<br>}();<br>//myApplication.get() and myApplication.create() now work.</p>
<p>（6）代码可配置</p>
<p>你写的代码如果想让别人更容易进行使用或者修改，则需要可配置，解决方案是在你写的脚本中增加一个配置对象。要点如下： </p>
<p>1、在你的脚本中新增一个叫configuration的对象。</p>
<p>2、在配置对象中存放所有其它人可能想要去改变的东西，例如CSS的ID、class名称、语言等等。</p>
<p>3、返回这个对象，作为公共属性以便其它人可以进行重写。 </p>
<p>（7）代码兼容性</p>
<p>　　兼容性是初学者容易忽略的部分，通常学习Javascript的时候都是在某个固定的浏览器中进行测试，而这个浏览器很有可能就是IE，这是非常致命的，因为目前几大主流浏览器中偏偏IE对标准的支持是最差的。最终用户看到的结果也许就是，你写的代码在某个浏览器无法正确运行。你应该把你的代码在主流的浏览器中都测试一下，这也许很费时间，但是应该这样做。  </p>
<p>（编译来源：梦想天空  原文来自：Seven JavaScript Things I Wish I Knew Much Earlier In My Career）</p>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/05/17/理解 JavaScript 作用域和作用域链/" >
  理解 JavaScript 作用域和作用域链
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/05/17/理解 JavaScript 作用域和作用域链/"><span class="article-date">
  2016-05-17
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/">技术</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/javascript/">javascript</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/scopechain/">scopechain</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>JavaScript 开发进阶：理解 JavaScript 作用域和作用域链<br><img src="http://www.cnblogs.com/lhb25/archive/2011/09/06/javascript-scope-chain.html" alt="原网址"><br>　　作用域是JavaScript最重要的概念之一，想要学好JavaScript就需要理解JavaScript作用域和作用域链的工作原理。今天这篇文章对JavaScript作用域和作用域链作简单的介绍，希望能帮助大家更好的学习JavaScript。</p>
<p>JavaScript作用域</p>
<p>　　任何程序设计语言都有作用域的概念，简单的说，作用域就是变量与函数的可访问范围，即作用域控制着变量与函数的可见性和生命周期。在JavaScript中，变量的作用域有全局作用域和局部作用域两种。</p>
<p>　　1.  全局作用域（Global Scope）<br>　　在代码中任何地方都能访问到的对象拥有全局作用域，一般来说以下几种情形拥有全局作用域：</p>
<p>　　（1）最外层函数和在最外层函数外面定义的变量拥有全局作用域，例如：</p>
<p>var authorName=”山边小溪”;<br>function doSomething(){<br>    var blogName=”梦想天空”;<br>    function innerSay(){<br>        alert(blogName);<br>    }<br>    innerSay();<br>}<br>alert(authorName); //山边小溪<br>alert(blogName); //脚本错误<br>doSomething(); //梦想天空<br>innerSay() //脚本错误<br>　　（2）所有末定义直接赋值的变量自动声明为拥有全局作用域，例如：</p>
<p>function doSomething(){<br>    var authorName=”山边小溪”;<br>    blogName=”梦想天空”;<br>    alert(authorName);<br>}<br>doSomething(); //山边小溪<br>alert(blogName); //梦想天空<br>alert(authorName); //脚本错误<br>　　变量blogName拥有全局作用域，而authorName在函数外部无法访问到。</p>
<p>　　（3）所有window对象的属性拥有全局作用域</p>
<p>　　一般情况下，window对象的内置属性都拥有全局作用域，例如window.name、window.location、window.top等等。</p>
<p>　　1.  局部作用域（Local Scope）　　<br>　　和全局作用域相反，局部作用域一般只在固定的代码片段内可访问到，最常见的例如函数内部，所有在一些地方也会看到有人把这种作用域称为函数作用域，例如下列代码中的blogName和函数innerSay都只拥有局部作用域。</p>
<p>function doSomething(){<br>    var blogName=”梦想天空”;<br>    function innerSay(){<br>        alert(blogName);<br>    }<br>    innerSay();<br>}<br>alert(blogName); //脚本错误<br>innerSay(); //脚本错误<br>作用域链（Scope Chain）</p>
<p>　　在JavaScript中，函数也是对象，实际上，JavaScript里一切都是对象。函数对象和其它对象一样，拥有可以通过代码访问的属性和一系列仅供JavaScript引擎访问的内部属性。其中一个内部属性是[[Scope]]，由ECMA-262标准第三版定义，该内部属性包含了函数被创建的作用域中对象的集合，这个集合被称为函数的作用域链，它决定了哪些数据能被函数访问。</p>
<p>　　当一个函数创建后，它的作用域链会被创建此函数的作用域中可访问的数据对象填充。例如定义下面这样一个函数：</p>
<p>function add(num1,num2) {<br>    var sum = num1 + num2;<br>    return sum;<br>}<br>　　在函数add创建时，它的作用域链中会填入一个全局对象，该全局对象包含了所有全局变量，如下图所示（注意：图片只例举了全部变量中的一部分）：</p>
<p><img src="/img/作用域链/scopechain.jpg" alt=""></p>
<p>　函数add的作用域将会在执行时用到。例如执行如下代码：</p>
<p>1<br>var total = add(5,10);<br>　　执行此函数时会创建一个称为“运行期上下文(execution context)”的内部对象，运行期上下文定义了函数执行时的环境。每个运行期上下文都有自己的作用域链，用于标识符解析，当运行期上下文被创建时，而它的作用域链初始化为当前运行函数的[[Scope]]所包含的对象。</p>
<p>　　这些值按照它们出现在函数中的顺序被复制到运行期上下文的作用域链中。它们共同组成了一个新的对象，叫“活动对象(activation object)”，该对象包含了函数的所有局部变量、命名参数、参数集合以及this，然后此对象会被推入作用域链的前端，当运行期上下文被销毁，活动对象也随之销毁。新的作用域链如下图所示：</p>
<p><img src="/img/作用域链/scopechain1.jpg" alt=""></p>
<p>在函数执行过程中，没遇到一个变量，都会经历一次标识符解析过程以决定从哪里获取和存储数据。该过程从作用域链头部，也就是从活动对象开始搜索，查找同名的标识符，如果找到了就使用这个标识符对应的变量，如果没找到继续搜索作用域链中的下一个对象，如果搜索完所有对象都未找到，则认为该标识符未定义。函数执行过程中，每个标识符都要经历这样的搜索过程。</p>
<p>作用域链和代码优化</p>
<p>　　从作用域链的结构可以看出，在运行期上下文的作用域链中，标识符所在的位置越深，读写速度就会越慢。如上图所示，因为全局变量总是存在于运行期上下文作用域链的最末端，因此在标识符解析的时候，查找全局变量是最慢的。所以，在编写代码的时候应尽量少使用全局变量，尽可能使用局部变量。一个好的经验法则是：如果一个跨作用域的对象被引用了一次以上，则先把它存储到局部变量里再使用。例如下面的代码：</p>
<p>function changeColor(){<br>    document.getElementById(“btnChange”).onclick=function(){<br>        document.getElementById(“targetCanvas”).style.backgroundColor=”red”;<br>    };<br>}<br>　　这个函数引用了两次全局变量document，查找该变量必须遍历整个作用域链，直到最后在全局对象中才能找到。这段代码可以重写如下：</p>
<p>function changeColor(){<br>    var doc=document;<br>    doc.getElementById(“btnChange”).onclick=function(){<br>        doc.getElementById(“targetCanvas”).style.backgroundColor=”red”;<br>    };<br>}<br>　　这段代码比较简单，重写后不会显示出巨大的性能提升，但是如果程序中有大量的全局变量被从反复访问，那么重写后的代码性能会有显著改善。</p>
<p>改变作用域链</p>
<p>　　函数每次执行时对应的运行期上下文都是独一无二的，所以多次调用同一个函数就会导致创建多个运行期上下文，当函数执行完毕，执行上下文会被销毁。每一个运行期上下文都和一个作用域链关联。一般情况下，在运行期上下文运行的过程中，其作用域链只会被 with 语句和 catch 语句影响。</p>
<p>　　with语句是对象的快捷应用方式，用来避免书写重复代码。例如：</p>
<p>function initUI(){<br>    with(document){<br>        var bd=body,<br>            links=getElementsByTagName(“a”),<br>            i=0,<br>            len=links.length;<br>        while(i &lt; len){<br>            update(links[i++]);<br>        }<br>        getElementById(“btnInit”).onclick=function(){<br>            doSomething();<br>        };<br>    }<br>}<br>　　这里使用width语句来避免多次书写document，看上去更高效，实际上产生了性能问题。</p>
<p>　　当代码运行到with语句时，运行期上下文的作用域链临时被改变了。一个新的可变对象被创建，它包含了参数指定的对象的所有属性。这个对象将被推入作用域链的头部，这意味着函数的所有局部变量现在处于第二个作用域链对象中，因此访问代价更高了。如下图所示：</p>
<p><img src="/img/作用域链/scopechain2.jpg" alt=""></p>
<p>因此在程序中应避免使用with语句，在这个例子中，只要简单的把document存储在一个局部变量中就可以提升性能。</p>
<p>　　另外一个会改变作用域链的是try-catch语句中的catch语句。当try代码块中发生错误时，执行过程会跳转到catch语句，然后把异常对象推入一个可变对象并置于作用域的头部。在catch代码块内部，函数的所有局部变量将会被放在第二个作用域链对象中。示例代码：</p>
<p>try{<br>    doSomething();<br>}catch(ex){<br>    alert(ex.message); //作用域链在此处改变<br>}<br>　　请注意，一旦catch语句执行完毕，作用域链机会返回到之前的状态。try-catch语句在代码调试和异常处理中非常有用，因此不建议完全避免。你可以通过优化代码来减少catch语句对性能的影响。一个很好的模式是将错误委托给一个函数处理，例如：</p>
<p>try{<br>    doSomething();<br>}catch(ex){<br>    handleError(ex); //委托给处理器方法<br>}<br>　　优化后的代码，handleError方法是catch子句中唯一执行的代码。该函数接收异常对象作为参数，这样你可以更加灵活和统一的处理错误。由于只执行一条语句，且没有局部变量的访问，作用域链的临时改变就不会影响代码性能了。</p>
<hr>
<p>参考资料</p>
<ol>
<li><p>High.Performance.JavaScript, Nicholas.C.Zakas</p>
</li>
<li><p>Explaining JavaScript Scope And Closures, Robert Nyman</p>
</li>
<li><p>ECMAScript Language Specification, bclary.com</p>
</li>
</ol>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/05/17/instanceof运算符深入剖析/" >
  instanceof 运算符深入剖析
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/05/17/instanceof运算符深入剖析/"><span class="article-date">
  2016-05-17
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/">技术</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/javascript/">javascript</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/instanceof/">instanceof</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p><a href="http://www.ibm.com/developerworks/cn/web/1306_jiangjj_jsinstanceof/" target="_blank" rel="external">JavaScript instanceof 运算符深入剖析-转载</a></p>
<p>随着 web 的发展，越来越多的产品功能都放在前端进行实现，增强用户体验。而前端开发的主要语言则是 JavaScript。学好 JavaScript 对开发前端应用已经越来越重要。在开发复杂产品中，需要使用面向对象的机制时，往往会用到复杂的 JavaScript 继承，而 instanceof 运算符是 JavaScript 语言中原生的用来判断实例继承关系的操作符。深入理解 instanceof 运算符的用法，对写好复杂的 JavaScript 程序，会有很大帮助。<br>2 评论<br>姜 俊杰, 软件工程师, IBM<br>2013 年 6 月 06 日<br>expand<br>内容</p>
<p>在 IBM Bluemix 云平台上开发并部署您的下一个应用。<br>开始您的试用<br>instanceof 运算符简介<br>在 JavaScript 中，判断一个变量的类型尝尝会用 typeof 运算符，在使用 typeof 运算符时采用引用类型存储值会出现一个问题，无论引用的是什么类型的对象，它都返回 “object”。ECMAScript 引入了另一个 Java 运算符 instanceof 来解决这个问题。instanceof 运算符与 typeof 运算符相似，用于识别正在处理的对象的类型。与 typeof 方法不同的是，instanceof 方法要求开发者明确地确认对象为某特定类型。例如：<br>清单 1. instanceof 示例<br> var oStringObject = new String(“hello world”);<br> console.log(oStringObject instanceof String);      // 输出 “true”<br>这段代码问的是“变量 oStringObject 是否为 String 对象的实例？”oStringObject 的确是 String 对象的实例，因此结果是”true”。尽管不像 typeof 方法那样灵活，但是在 typeof 方法返回 “object” 的情况下，instanceof 方法还是很有用的。<br>instanceof 运算符的常规用法<br>通常来讲，使用 instanceof 就是判断一个实例是否属于某种类型。例如：<br>清单 2. instanceof 常规用法<br> // 判断 foo 是否是 Foo 类的实例<br> function Foo(){}<br> var foo = new Foo();<br> console.log(foo instanceof Foo)//true<br>另外，更重的一点是 instanceof 可以在继承关系中用来判断一个实例是否属于它的父类型。例如：<br>清单 3. instanceof 在继承中关系中的用法<br> // 判断 foo 是否是 Foo 类的实例 , 并且是否是其父类型的实例<br> function Aoo(){}<br> function Foo(){}<br> Foo.prototype = new Aoo();//JavaScript 原型继承</p>
<p> var foo = new Foo();<br> console.log(foo instanceof Foo)//true<br> console.log(foo instanceof Aoo)//true<br>上面的代码中是判断了一层继承关系中的父类，在多层继承关系中，instanceof 运算符同样适用。<br>你真的了解 instanceof 操作符吗？<br>看了上面的代码示例，是不是觉得 instanceof 操作符很简单，下面来看点复杂的用法。<br>清单 4. instanceof 复杂用法<br> console.log(Object instanceof Object);//true<br> console.log(Function instanceof Function);//true<br> console.log(Number instanceof Number);//false<br> console.log(String instanceof String);//false </p>
<p> console.log(Function instanceof Object);//true </p>
<p> console.log(Foo instanceof Function);//true<br> console.log(Foo instanceof Foo);//false<br>看了上面的代码是不是又晕头转向了？为什么 Object 和 Function instanceof 自己等于 true，而其他类 instanceof 自己却又不等于 true 呢？如何解释？要想从根本上了解 instanceof 的奥秘，需要从两个方面着手：1，语言规范中是如何定义这个运算符的。2，JavaScript 原型继承机制。<br>回页首<br>详细剖析 ECMAScript-262 edition 3 中 instanceof 运算符的定义<br>语言规范对中 instanceof 运算符的定义如下：<br>清单 5. 规范中 instanceof 运算符定义<br> 11.8.6 The instanceof operator<br> The production RelationalExpression:<br>     RelationalExpression instanceof ShiftExpression is evaluated as follows: </p>
<ol>
<li>Evaluate RelationalExpression. </li>
<li>Call GetValue(Result(1)).// 调用 GetValue 方法得到 Result(1) 的值，设为 Result(2) </li>
<li>Evaluate ShiftExpression. </li>
<li>Call GetValue(Result(3)).// 同理，这里设为 Result(4) </li>
<li>If Result(4) is not an object, throw a TypeError exception.// 如果 Result(4) 不是 object，<pre><code>//抛出异常
</code></pre>/<em> 如果 Result(4) 没有 [[HasInstance]] 方法，抛出异常。规范中的所有 [[…]] 方法或者属性都是内部的，<br>在 JavaScript 中不能直接使用。并且规范中说明，只有 Function 对象实现了 [[HasInstance]] 方法。<br>所以这里可以简单的理解为：如果 Result(4) 不是 Function 对象，抛出异常 </em>/ </li>
<li>If Result(4) does not have a [[HasInstance]] method,<br>throw a TypeError exception.<br>// 相当于这样调用：Result(4).<a href="Result(2">[HasInstance]</a>) </li>
<li>Call the [[HasInstance]] method of Result(4) with parameter Result(2). </li>
<li><p>Return Result(7). </p>
<p>// 相关的 HasInstance 方法定义<br>15.3.5.3 [[HasInstance]] (V)<br>Assume F is a Function object.// 这里 F 就是上面的 Result(4)，V 是 Result(2)<br>When the [[HasInstance]] method of F is called with value V,<br> the following steps are taken: </p>
</li>
<li>If V is not an object, return false.// 如果 V 不是 object，直接返回 false </li>
<li>Call the [[Get]] method of F with property name “prototype”.// 用 [[Get]] 方法取 <pre><code>// F 的 prototype 属性
</code></pre></li>
<li>Let O be Result(2).//O = F.<a href="&quot;prototype&quot;">[Get]</a> </li>
<li>If O is not an object, throw a TypeError exception. </li>
<li>Let V be the value of the [[Prototype]] property of V.//V = V.[[Prototype]] </li>
<li>If V is null, return false.<br>// 这里是关键，如果 O 和 V 引用的是同一个对象，则返回 true；否则，到 Step 8 返回 Step 5 继续循环</li>
<li>If O and V refer to the same object or if they refer to objects<br>joined to each other (section 13.1.2), return true. </li>
<li><p>Go to step 5.<br>上面的规范定义很晦涩，而且看起来比较复杂，涉及到很多概念，但把这段规范翻译成 JavaScript 代码却很简单，如下：<br>清单 6. JavaScript instanceof 运算符代码<br>function instance_of(L, R) {//L 表示左表达式，R 表示右表达式<br>var O = R.prototype;// 取 R 的显示原型<br>L = L.<strong>proto</strong>;// 取 L 的隐式原型<br>while (true) {<br>if (L === null)<br>  return false;<br>if (O === L)// 这里重点：当 O 严格等于 L 时，返回 true<br>  return true;<br>L = L.<strong>proto</strong>;<br>}<br>}<br>回页首<br>JavaScript 原型继承机制<br>由于本文主要集中在剖析 JavaScript instanceof 运算符，所以对于 JavaScript 的原型继承机制不再做详细的讲解，下面参考来自 <a href="http://www.mollypages.org/misc/js.mp" target="_blank" rel="external">http://www.mollypages.org/misc/js.mp</a> 的一张图片，此图片详细的描述了 JavaScript 各种对象的显示和隐式原型链结构。<br>由其本文涉及显示原型和隐式原型，所以下面对这两个概念作一下简单说明。在 JavaScript 原型继承结构里面，规范中用 [[Prototype]] 表示对象隐式的原型，在 JavaScript 中用 <strong>proto</strong> 表示，并且在 Firefox 和 Chrome 浏览器中是可以访问得到这个属性的，但是 IE 下不行。所有 JavaScript 对象都有 <strong>proto</strong> 属性，但只有 Object.prototype.<strong>proto</strong> 为 null，前提是没有在 Firefox 或者 Chrome 下修改过这个属性。这个属性指向它的原型对象。 至于显示的原型，在 JavaScript 里用 prototype 属性表示，这个是 JavaScript 原型继承的基础知识，在这里就不在叙述了。<br><img src="/img/原型连/figure1.jpg" alt=""><br>图 1. JavaScript 原型链<br>JavaScript 原型链<br>回页首<br>讲解 instanceof 复杂用法<br>有了上面 instanceof 运算符的 JavaScript 代码和原型继承图，再来理解 instanceof 运算符将易如反掌。下面将详细讲解 Object instanceof Object，Function instanceof Function 和 Foo instanceof Foo 三个示例，其它示例读者可自行推演。<br>清单 7. Object instanceof Object<br>// 为了方便表述，首先区分左侧表达式和右侧表达式<br>ObjectL = Object, ObjectR = Object;<br>// 下面根据规范逐步推演<br>O = ObjectR.prototype = Object.prototype<br>L = ObjectL.<strong>proto</strong> = Function.prototype<br>// 第一次判断<br>O != L<br>// 循环查找 L 是否还有 <strong>proto</strong><br>L = Function.prototype.<strong>proto</strong> = Object.prototype<br>// 第二次判断<br>O == L<br>// 返回 true<br>清单 8. Function instanceof Function<br>// 为了方便表述，首先区分左侧表达式和右侧表达式<br>FunctionL = Function, FunctionR = Function;<br>// 下面根据规范逐步推演<br>O = FunctionR.prototype = Function.prototype<br>L = FunctionL.<strong>proto</strong> = Function.prototype<br>// 第一次判断<br>O == L<br>// 返回 true<br>清单 9. Foo instanceof Foo<br>// 为了方便表述，首先区分左侧表达式和右侧表达式<br>FooL = Foo, FooR = Foo;<br>// 下面根据规范逐步推演<br>O = FooR.prototype = Foo.prototype<br>L = FooL.<strong>proto</strong> = Function.prototype<br>// 第一次判断<br>O != L<br>// 循环再次查找 L 是否还有 <strong>proto</strong><br>L = Function.prototype.<strong>proto</strong> = Object.prototype<br>// 第二次判断<br>O != L<br>// 再次循环查找 L 是否还有 <strong>proto</strong><br>L = Object.prototype.<strong>proto</strong> = null<br>// 第三次判断<br>L == null<br>// 返回 false<br>回页首<br>简析 instanceof 在 Dojo 继承机制中的应用<br>在 JavaScript 中，是没有多重继承这个概念的，就像 Java 一样。但在 Dojo 中使用 declare 声明类时，是允许继承自多个类的。下面以 Dojo 1.6.1 为例。<br>清单 10. Dojo 中多重继承<br>dojo.declare(“Aoo”,null,{});<br>dojo.declare(“Boo”,null,{});<br>dojo.declare(“Foo”,[Aoo,Boo],{}); </p>
<p>var foo = new Foo();<br>console.log(foo instanceof Aoo);//true<br>console.log(foo instanceof Boo);//false </p>
<p>console.log(foo.isInstanceOf(Aoo));//true<br>console.log(foo.isInstanceOf(Boo));//true<br>上面的示例中，Foo 同时继承自 Aoo 和 Boo，但当使用 instanceof 运算符来检查 foo 是否是 Boo 的实例时，返回的是 false。实际上，在 Dojo 的内部，Foo 仍然只继承自 Aoo，而通过 mixin 机制把 Boo 类中的方法和属性拷贝到 Foo 中，所以当用 instanceof 运算符来检查是否是 Boo 的实例时，会返回 false。所以 Dojo 为每个类的实例添加了一个新的方法叫 isInstanceOf，用这个方法来检查多重继承。<br>结束语<br>本文详细介绍了 JavaScript 语言中 instanceof 运算符，并且结合语言规范深入剖析了此操作符的算法。对读者使用 JavaScript 编写复杂的面向对象程序会有很大的帮助。本文所有代码在 Firefox 15 下通过测试。<br>参考资料<br>学习<br>关于 Dojo，请参考 Dojo 官方网站<br>developerWorks Web development 专区：通过专门关于 Web 技术的文章和教程，扩展您在网站开发方面的技能。<br>developerWorks Ajax 资源中心：这是有关 Ajax 编程模型信息的一站式中心，包括很多文档、教程、论坛、blog、wiki 和新闻。任何 Ajax 的新信息都能在这里找到。<br>developerWorks Web 2.0 资源中心，这是有关 Web 2.0 相关信息的一站式中心，包括大量 Web 2.0 技术文章、教程、下载和相关技术资源。</p>
</li>
</ol>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/05/16/判断js函数是不是存在typeof/" >
  判断js函数是不是存在typeof
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/05/16/判断js函数是不是存在typeof/"><span class="article-date">
  2016-05-16
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/">技术</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/javascript/">javascript</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/typeof/">typeof</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>判断js函数是不是存在typeof 【转载】</p>
<p>判断js函数是否存在typeof<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line">//*==============================================================================*/</span><br><span class="line">//*   Ajax加载                                                                                                                                                             */</span><br><span class="line">//* 语法：var objLoad=new AjaxLoad()                                                                                                                */</span><br><span class="line">//*       objLoad.Loading(doAction,dataNode[,dataType[,callback[,fullShow]]]);                                               */</span><br><span class="line">//*                                                                                                                                                                              */</span><br><span class="line">//* 参 数：                                                                                                                                                                 */</span><br><span class="line">//*      -doAction[必需的]  执行 URL                                                                                                                        */</span><br><span class="line">//*      -dataNode[必需的]  显示获取内容的容器 ID                                                                                              */</span><br><span class="line">//*      -dataType[可选的]  数据类别[text|xml|body]，缺省值 text                                                                         */ </span><br><span class="line">//*      -callback[可选的]  输出函数[函数对 像]                                                                                                       */</span><br><span class="line">//*      -fullShow[可选的]  显示模式: 缺省值false-单块模式,true-全屏模式                                                         */</span><br><span class="line">//*                                                                                                                                                                              */</span><br><span class="line">//*                                                                                                                                                                              */</span><br><span class="line">//* 输出函数 [callback]：                                                                                                                                         */</span><br><span class="line">//*      可自定义输出函数来格式化所获取的数据，其格式请参加页尾objPrint()函数                                    */</span><br><span class="line">//*                                                                                                                                                                              */</span><br><span class="line">//*==============================================================================*/   </span><br><span class="line">/*此处调用Charset.vbs来解决当dataType=&apos;body&apos;时,xmlHttp.responseBody产生的乱码问题                        */</span><br><span class="line">/*请保证Charset.vbs文件与本文件存放在同一路径当中                                                                                    */</span><br><span class="line">var charsetPath=document.getElementsByTagName(&quot;script&quot;)[document.getElementsByTagName(&quot;script&quot;).length-1].src.split(&quot;?&quot;)[0];</span><br><span class="line">charsetPath=charsetPath.replace(&quot;Ajax_Load.js&quot;,&quot;Charset.vbs&quot;);</span><br><span class="line">document.write(&quot;&lt;script type=\&quot;text/vbscript\&quot; src=\&quot;&quot;+charsetPath+&quot;\&quot;&gt;&lt;/scr&quot;+&quot;ipt&gt;&quot;);</span><br><span class="line">//*==============================================================================*/  </span><br><span class="line">//*                           AjaxLoad begin                                                                                                                         */</span><br><span class="line">//*==============================================================================*/   </span><br><span class="line">function AjaxLoad()&#123;</span><br><span class="line">    /*初始化Ajax                                             */</span><br><span class="line"> function InitAjax()&#123;</span><br><span class="line">  var Ajax=false;</span><br><span class="line">  /*Microsoft*/</span><br><span class="line">  try &#123;</span><br><span class="line">     Ajax = new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;);</span><br><span class="line">  &#125; catch (e) &#123;</span><br><span class="line">     try &#123;</span><br><span class="line">     Ajax = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</span><br><span class="line">     &#125; catch (E) &#123;</span><br><span class="line">     Ajax = false;</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;/*Mozilla*/</span><br><span class="line">  if (!Ajax &amp;&amp; typeof Ajax!=&apos;undefined&apos;) &#123;</span><br><span class="line">     Ajax = new XMLHttpRequest();</span><br><span class="line">  &#125;</span><br><span class="line">   return Ajax;</span><br><span class="line"> &#125;</span><br><span class="line"> /*---------------------------------------*/    </span><br><span class="line"> /*   判断函数或对像是否存在  一定要添加try catch块，否则不起作用             */</span><br><span class="line"> /*---------------------------------------*/    </span><br><span class="line"> function objExists(objName)&#123; </span><br><span class="line">  try&#123;  </span><br><span class="line">   if(typeof eval(objName)==&quot;undefined&quot;)&#123;return false;&#125;</span><br><span class="line">   if(typeof eval(objName)==&quot;object&quot;)&#123;return true;&#125;</span><br><span class="line">  &#125;catch(e)&#123;</span><br><span class="line">   return false;</span><br><span class="line">  &#125; </span><br><span class="line"> &#125;</span><br><span class="line"> function funExists(funName)&#123; </span><br><span class="line">  try&#123;  </span><br><span class="line">   if(typeof eval(funName)==&quot;undefined&quot;)&#123;return false;&#125; </span><br><span class="line">   if(typeof eval(funName)==&quot;function&quot;)&#123;return true;&#125;</span><br><span class="line">  &#125;catch(e)&#123;</span><br><span class="line">   return false;</span><br><span class="line">  &#125; </span><br><span class="line"> &#125; </span><br><span class="line"> /*-----------------------------------*/ </span><br><span class="line"> var fullShow=false;</span><br><span class="line"> var doAction=&quot;&quot;;</span><br><span class="line"> var dataType=&quot;text&quot;;</span><br><span class="line"> var callback=null;</span><br><span class="line"> var dataNode=null;</span><br><span class="line">    var objAjax = new InitAjax();</span><br><span class="line"> this.Loading=function(_doAction,_dataNode,_dataType,_callback,_fullShow)&#123;</span><br><span class="line">  try&#123;</span><br><span class="line">   doAction=_doAction;</span><br><span class="line">   dataType=_dataType;</span><br><span class="line">   callback=_callback;</span><br><span class="line">   dataNode=document.getElementById(_dataNode); </span><br><span class="line">   /**/</span><br><span class="line">   if(!dataNode)&#123;alert(&quot;参数错误，请输入正确的ID&quot;);return false;&#125;</span><br><span class="line">   if(!_fullShow)&#123;fullShow=false;&#125;else&#123;fullShow=true; &#125;</span><br><span class="line">   objAjax.open(&quot;GET&quot;,doAction, true); </span><br><span class="line">   objAjax.onreadystatechange = function()&#123;handleStateChange();&#125;;   </span><br><span class="line">   objAjax.setRequestHeader(&quot;Accept-charset&quot;,&quot;gb2312&quot;); </span><br><span class="line">   objAjax.setRequestHeader(&quot;If-Modified-Since&quot;,&quot;0&quot;);  //禁止缓存</span><br><span class="line">   objAjax.send(null); </span><br><span class="line">  &#125;catch(e)&#123;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125; </span><br><span class="line"> function handleStateChange()&#123;</span><br><span class="line">  if (objAjax.readyState == 4 &amp;&amp; objAjax.status == 200) &#123; </span><br><span class="line">   try&#123;</span><br><span class="line">       var data=getData(dataType,objAjax);</span><br><span class="line">        if(objExists(callback))&#123; </span><br><span class="line">        data=eval(callback+&quot;(&quot;+data+&quot;);&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    dataNode.innerHTML = data; </span><br><span class="line">   &#125;catch(e)&#123;</span><br><span class="line">      alert(e)</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;else&#123;</span><br><span class="line">   var outString=&quot;&quot;;</span><br><span class="line">   if(!fullShow)&#123;</span><br><span class="line">    /*Loading, please wait……|在此处设置显示样式*/</span><br><span class="line">    outString+=&quot;&lt;div style=&apos;color: #FF0000;font-size: 10pt;&apos;&gt;正在加载，请稍候……&lt;/div&gt;&quot;;</span><br><span class="line">    dataNode.innerHTML = outString;</span><br><span class="line">   &#125;else&#123;</span><br><span class="line">    outString+=&quot;&lt;!-- load start --&gt;&quot;;</span><br><span class="line">    outString+=&quot;&lt;div id=&apos;load&apos; style=&apos;position:absolute;z-index:10;top:expression(body.clientHeight/2-60);left:expression(body.clientWidth/2-110); height:120px;width:220px;margin-right: auto;margin-left: auto;text-align: center;color: #FF0000;font-size: 10pt;padding: 5px;line-height: 20px;background-color: #FFFFFF;border-top-width: 1px;border-right-width: 2px;border-bottom-width: 2px;border-left-width: 1px;border-top-style: inset;border-right-style: outset; border-bottom-style: outset;border-left-style: inset;border-top-color: #ECE9D8; border-right-color: #ECE9D8;border-bottom-color: #ECE9D8;border-left-color: #ECE9D8;&apos;&gt;&quot;;</span><br><span class="line">    outString+=&quot;  &lt;div id=&apos;loadLogo&apos; style=&apos;margin-top: 30px;margin-right: auto;margin-bottom: 20px;margin-left: auto;&apos;&gt;&lt;img src=&apos;Images/Wait.gif&apos; width=&apos;32&apos; height=&apos;32&apos; /&gt;&lt;/div&gt;&quot;;</span><br><span class="line">    outString+=&quot;  &lt;div id=&apos;loadTitle&apos; style=&apos;&apos;&gt;Loading, please wait……&lt;/div&gt; &quot;;</span><br><span class="line">    outString+=&quot;&lt;/div&gt;&quot;;</span><br><span class="line">    outString+=&quot;&lt;div id=&apos;loadMask&apos; style=&apos;position:absolute;z-index:1; top:0;left:0; width:expression(body.clientWidth); height:expression(body.clientHeight);background:#999999;filter:Alpha(opacity=60);&apos;&gt;&lt;/div&gt;&quot;;</span><br><span class="line">    outString+=&quot;&lt;!-- load end  --&gt;&quot;;</span><br><span class="line">    dataNode.innerHTML = outString;    </span><br><span class="line">   &#125; </span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> function getData(dataType,xmlHttp)&#123;</span><br><span class="line">     if(dataType==&quot;xml&quot;)&#123;</span><br><span class="line">    return xmlHttp.responseXML;</span><br><span class="line">  &#125;else if(dataType==&quot;body&quot;)&#123;</span><br><span class="line">    /*Bytes2Bstr在Charset.vbs中*/</span><br><span class="line">    return Bytes2Bstr(xmlHttp.responseBody);   </span><br><span class="line">  &#125;else if(dataType==&quot;stream&quot;)&#123;</span><br><span class="line">    return xmlHttp.responseStream;   </span><br><span class="line">  &#125;else&#123;</span><br><span class="line">    return xmlHttp.responseText;   </span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> /*-----------------------------------*/ </span><br><span class="line">&#125;</span><br><span class="line">/*===========================================================================*/</span><br><span class="line">/*                                AjaxLoad end                               */ </span><br><span class="line">/*===========================================================================*/</span><br><span class="line">/*Charset.vbs文件内容：</span><br><span class="line">&apos;编码处理函数：解决XMLHTTP返回的中文乱码处理</span><br><span class="line">Function Bytes2Bstr(bodyStr) </span><br><span class="line"> strReturn = &quot;&quot; </span><br><span class="line"> For i = 1 To LenB(bodyStr) </span><br><span class="line">  ThisCharCode = AscB(MidB(bodyStr,i,1)) </span><br><span class="line">  If ThisCharCode &lt; &amp;H80 Then </span><br><span class="line">     strReturn = strReturn &amp; Chr(ThisCharCode) </span><br><span class="line">  Else </span><br><span class="line">     NextCharCode = AscB(MidB(bodyStr,i+1,1)) </span><br><span class="line">     strReturn = strReturn &amp; Chr(CLng(ThisCharCode) * &amp;H100 + CInt(NextCharCode)) </span><br><span class="line">     i = i + 1 </span><br><span class="line">  End If </span><br><span class="line"> Next </span><br><span class="line"> Bytes2Bstr = strReturn </span><br><span class="line">End Function</span><br><span class="line">*/</span><br><span class="line">/*---------------------------------------*/ </span><br><span class="line">/*             输出函数格式如下                                                        */</span><br><span class="line">/*---------------------------------------*/ </span><br><span class="line">function objPrint()&#123;</span><br><span class="line">  /*在此处格式化数据后，再返回格式化了的数据*/</span><br><span class="line">  //alert(&quot;执行了格式化哟&quot;)</span><br><span class="line">  return data;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">判断父页面函数是否存在</span><br><span class="line">if(typeof(opener.showLicenceList)==&apos;object&apos;)&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/05/16/instanceof和typeof的区别/" >
  instanceof和typeof的区别
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/05/16/instanceof和typeof的区别/"><span class="article-date">
  2016-05-16
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/">技术</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/javascript/">javascript</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/instanceof-typeof/">instanceof/typeof</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>javascript instanceof,typeof的<a href="http://www.jb51.net/article/22717.htm" target="_blank" rel="external">区别</a></p>
<blockquote>
<p>区分string 与 String的[区别</p>
</blockquote>
<p>为什么结果会是false呢？<br> 代码如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt; </span><br><span class="line">var aColors = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;]; </span><br><span class="line">alert(typeof aColors[0]); //output &quot;string&quot; </span><br><span class="line">alert(aColors[0] instanceof String); //output &quot;false&quot;; </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>你要区分string 与 String的区别<br>aColors[0] 是 string值类型， 当然不是String的实例啦。参考下面代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var aColors = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;]; </span><br><span class="line">aColors[0]= new String(&quot;1&quot;) </span><br><span class="line">alert(typeof aColors[0]); //output &quot;Object&quot; </span><br><span class="line">alert(aColors[0] instanceof String); //output &quot;true&quot;;</span><br></pre></td></tr></table></figure></p>
<p>更多可以参考下面的文章:</p>
<p>instanceof 运算符<br>返回一个 Boolean 值，指出对象是否是特定类的一个实例。 </p>
<blockquote>
<p>result = object instanceof class </p>
</blockquote>
<p>参数<br>result<br>必选项。任意变量。<br>object<br>必选项。任意对象表达式。<br>class<br>必选项。任意已定义的对象类。 </p>
<ul>
<li><p>说明:<br>如果 object 是 class 的一个实例，则 instanceof 运算符返回 true。如果 object 不是指定类的一个实例，或者 object 是 null，则返回 false。<br>示例<br>下面的例子举例说明了 instanceof 运算符的用法。<br>代码如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">function objTest(obj)&#123; </span><br><span class="line">var i, t, s = &quot;&quot;; // 创建变量。 </span><br><span class="line">t = new Array(); // 创建一个数组。 </span><br><span class="line">t[&quot;Date&quot;] = Date; // 填充数组。 </span><br><span class="line">t[&quot;Object&quot;] = Object; </span><br><span class="line">t[&quot;Array&quot;] = Array; </span><br><span class="line">for (i in t) </span><br><span class="line">&#123; </span><br><span class="line">if (obj instanceof t[i]) // 检查 obj 的类。 </span><br><span class="line">&#123; </span><br><span class="line">s += &quot;obj is an instance of &quot; + i + &quot;\n&quot;; </span><br><span class="line">&#125; </span><br><span class="line">else </span><br><span class="line">&#123; </span><br><span class="line">s += &quot;obj is not an instance of &quot; + i + &quot;\n&quot;; </span><br><span class="line">&#125; </span><br><span class="line">&#125; </span><br><span class="line">return(s); // 返回字符串。 </span><br><span class="line">&#125; </span><br><span class="line">var obj = new Date(); </span><br><span class="line">document.write(objTest(obj));</span><br></pre></td></tr></table></figure>
</li>
<li><p>instanceof和typeof都能用来判断一个变量是否为空或是什么类型的变量。 </p>
</li>
<li><p>typeof用以获取一个变量的类型，typeof一般只能返回如下几个结果：number,boolean,string,function,object,undefined。我们可以使用typeof来获取一个变量是否存在，如if(typeof a!=”undefined”){}，而不要去使用if(a)因为如果a不存在（未声明）则会出错，对于Array,Null等特殊对象使用typeof 一律返回object，这正是typeof的局限性。 </p>
</li>
<li><p>如果我们希望获取一个对象是否是数组，或判断某个变量是否是某个对象的实例则要选择使用instanceof。instanceof用于判断一个变量是否某个对象的实例，如var a=new Array();alert(a instanceof Array);会返回true，同时alert(a instanceof Object)也会返回true;这是因为Array是object的子类。再如：function test(){};var a=new test();alert(a instanceof test)会返回true。 </p>
</li>
<li><p>谈到instanceof我们要多插入一个问题，就是function的arguments，我们大家也许都认为arguments是一个Array，但如果使用instaceof去测试会发现arguments不是一个Array对象，尽管看起来很像。 </p>
</li>
</ul>
<blockquote>
<p>另外：<br>测试 var a=new Array();if (a instanceof Object) alert(‘Y’);else alert(‘N’);<br>得’Y’<br>但 if (window instanceof Object) alert(‘Y’);else alert(‘N’);<br>得’N’</p>
</blockquote>
<p>所以，这里的instanceof测试的object是指js语法中的object，不是指dom模型对象。<br>使用typeof会有些区别<br>alert(typeof(window) 会得 object </p>
<p>年轻的时候，先少废话，多做事。</p>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/05/16/instanceof与typeof/" >
  instanceof与typeof
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/05/16/instanceof与typeof/"><span class="article-date">
  2016-05-16
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/">技术</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/javascript/">javascript</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/instanceof-typeof/">instanceof/typeof</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>JS中typeof与instanceof的区别 <a href="http://blog.sina.com.cn/s/blog_532751d90100iv1r.html" target="_blank" rel="external">查看原网页转载▼</a></p>
<p>JavaScript 中 typeof 和 instanceof 常用来判断一个变量是否为空，或者是什么类型的。但它们之间还是有区别的：<br>typeof<br>typeof 是一个一元运算，放在一个运算数之前，运算数可以是任意类型。<br>它返回值是一个字符串，该字符串说明运算数的类型。typeof 一般只能返回如下几个结果：<br>number,boolean,string,function,object,undefined。我们可以使用 typeof 来获取一个变量是否存在，如 if(typeof a!=”undefined”){alert(“ok”)}，而不要去使用 if(a) 因为如果 a 不存在（未声明）则会出错，对于 Array,Null 等特殊对象使用 typeof 一律返回 object，这正是 typeof 的局限性。<br>网上的一个小例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</span><br><span class="line">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;</span><br><span class="line">&lt;script language=&quot;javascript&quot; type=&quot;text/javascript&quot;&gt;</span><br><span class="line">document.write (&quot;typeof(1): &quot;+typeof(1)+&quot;&lt;br&gt;&quot;);</span><br><span class="line">document.write (&quot;typeof(NaN): &quot;+typeof(NaN)+&quot;&lt;br&gt;&quot;);</span><br><span class="line">document.write (&quot;typeof(Number.MIN_VALUE): &quot;+typeof(Number.MIN_VALUE)+&quot;&lt;br&gt;&quot;);</span><br><span class="line">document.write (&quot;typeof(Infinity): &quot;+typeof(Infinity)+&quot;&lt;br&gt;&quot;);</span><br><span class="line">document.write (&quot;typeof(\&quot;123\&quot;): &quot;+typeof(&quot;123&quot;)+&quot;&lt;br&gt;&quot;);</span><br><span class="line">document.write (&quot;typeof(true): &quot;+typeof(true)+&quot;&lt;br&gt;&quot;);</span><br><span class="line">document.write (&quot;typeof(window): &quot;+typeof(window)+&quot;&lt;br&gt;&quot;);</span><br><span class="line">document.write (&quot;typeof(Array()): &quot;+typeof(new Array())+&quot;&lt;br&gt;&quot;);</span><br><span class="line">document.write (&quot;typeof(function()&#123;&#125;): &quot;+typeof(function()&#123;&#125;)+&quot;&lt;br&gt;&quot;);</span><br><span class="line">document.write (&quot;typeof(document): &quot;+typeof(document)+&quot;&lt;br&gt;&quot;);</span><br><span class="line">document.write (&quot;typeof(null): &quot;+typeof(null)+&quot;&lt;br&gt;&quot;);</span><br><span class="line">document.write (&quot;typeof(eval): &quot;+typeof(eval)+&quot;&lt;br&gt;&quot;);</span><br><span class="line">document.write (&quot;typeof(Date): &quot;+typeof(Date)+&quot;&lt;br&gt;&quot;);</span><br><span class="line">document.write (&quot;typeof(sss): &quot;+typeof(sss)+&quot;&lt;br&gt;&quot;);</span><br><span class="line">document.write (&quot;typeof(undefined): &quot;+typeof(undefined)+&quot;&lt;br&gt;&quot;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;title&gt;javascript类型测试&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p> 查看效果</p>
<p>instanceof<br>instance：实例,例子<br>a instanceof b?alert(“true”):alert(“false”); //a是b的实例？真:假<br>instanceof 用于判断一个变量是否某个对象的实例，如 var a=new Array();alert(a instanceof Array); 会返回 true，同时 alert(a instanceof Object) 也会返回 true;这是因为 Array 是 object 的子类。再如：function test(){};var a=new test();alert(a instanceof test) 会返回<br>谈到 instanceof 我们要多插入一个问题，就是 function 的 arguments，我们大家也许都认为 arguments 是一个 Array，但如果使用 instaceof 去测试会发现 arguments 不是一个 Array 对象，尽管看起来很像。<br>另外：<br>测试 var a=new Array();if (a instanceof Object) alert(‘Y’);else alert(‘N’);<br>得’Y’<br>但 if (window instanceof Object) alert(‘Y’);else alert(‘N’);<br>得’N’<br>所以，这里的 instanceof 测试的 object 是指 js 语法中的 object，不是指 dom 模型对象。<br>使用 typeof 会有些区别<br>alert(typeof(window)) 会得 object</p>

        
      </div>
    </div>

  
    </div>
  

  
  
    <div class="post-list">
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2016/05/16/回调函数的概念及其使用/" >
  回调函数的概念及其使用
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2016/05/16/回调函数的概念及其使用/"><span class="article-date">
  2016-05-16
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/">技术</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/技术/javascript/">javascript</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/函数/">函数</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>回调函数的概念及其使用,<a href="http://www.cnblogs.com/swordzj/archive/2007/04/24/2034769.html" target="_blank" rel="external">出处</a><br> 1 什么是回调<br>软件模块之间总是存在着一定的接口，从调用方式上，可以把他们分为三类：同步调用、回调和异步调用。同步调用是一种阻塞式调用，调用方要等待对方执行完毕才返回，它是一种单向调用；回调是一种双向调用模式，也就是说，被调用方在接口被调用时也会调用对方的接口；异步调用是一种类似消息或事件的机制，不过它的调用方向刚好相反，接口的服务在收到某种讯息或发生某种事件时，会主动通知客户方（即调用客户方的接口）。回调和异步调用的关系非常紧密，通常我们使用回调来实现异步消息的注册，通过异步调用来实现消息的通知。同步调用是三者当中最简单的，而回调又常常是异步调用的基础，因此，下面我们着重讨论回调机制在不同软件架构中的实现。</p>
<p>对于不同类型的语言（如结构化语言和对象语言）、平台（Win32、JDK）或构架（CORBA、DCOM、WebService），客户和服务的交互除了同步方式以外，都需要具备一定的异步通知机制，让服务方（或接口提供方）在某些情况下能够主动通知客户，而回调是实现异步的一个最简捷的途径。</p>
<p>对于一般的结构化语言，可以通过回调函数来实现回调。回调函数也是一个函数或过程，不过它是一个由调用方自己实现，供被调用方使用的特殊函数。</p>
<p>在面向对象的语言中，回调则是通过接口或抽象类来实现的，我们把实现这种接口的类成为回调类，回调类的对象成为回调对象。对于象C++或Object Pascal这些兼容了过程特性的对象语言，不仅提供了回调对象、回调方法等特性，也能兼容过程语言的回调函数机制。</p>
<p>Windows平台的消息机制也可以看作是回调的一种应用，我们通过系统提供的接口注册消息处理函数（即回调函数），从而实现接收、处理消息的目的。由于Windows平台的API是用C语言来构建的，我们可以认为它也是回调函数的一个特例。</p>
<p>对于分布式组件代理体系CORBA，异步处理有多种方式，如回调、事件服务、通知服务等。事件服务和通知服务是CORBA用来处理异步消息的标准服务，他们主要负责消息的处理、派发、维护等工作。对一些简单的异步处理过程，我们可以通过回调机制来实现。</p>
<p>下面我们集中比较具有代表性的语言（C、Object Pascal）和架构（CORBA）来分析回调的实现方式、具体作用等。</p>
<p>2 过程语言中的回调（C）</p>
<p>2.1 函数指针</p>
<p>回调在C语言中是通过函数指针来实现的,通过将回调函数的地址传给被调函数从而实现回调。因此，要实现回调，必须首先定义函数指针，请看下面的例子：</p>
<p>void Func(char <em>s)；// 函数原型<br>void (</em>pFunc) (char *);//函数指针</p>
<p>可以看出，函数的定义和函数指针的定义非常类似。</p>
<p>一般的化，为了简化函数指针类型的变量定义，提高程序的可读性，我们需要把函数指针类型自定义一下。</p>
<p>typedef void(<em>pcb)(char </em>);</p>
<p>回调函数可以象普通函数一样被程序调用，但是只有它被当作参数传递给被调函数时才能称作回调函数。</p>
<p>被调函数的例子：</p>
<p>void GetCallBack(pcb callback)<br>{<br>/<em>do something</em>/<br>}<br>用户在调用上面的函数时，需要自己实现一个pcb类型的回调函数：<br>void fCallback(char <em>s)<br>{<br>/</em> do something */<br>}<br>然后，就可以直接把fCallback当作一个变量传递给GetCallBack,<br>GetCallBack（fCallback）;</p>
<p>如果赋了不同的值给该参数，那么调用者将调用不同地址的函数。赋值可以发生在运行时，这样使你能实现动态绑定。</p>
<p>回页首</p>
<p>2.2 参数传递规则</p>
<p>到目前为止，我们只讨论了函数指针及回调而没有去注意ANSI C/C++的编译器规范。许多编译器有几种调用规范。如在Visual C++中，可以在函数类型前加_cdecl，_stdcall或者_pascal来表示其调用规范（默认为_cdecl）。C++ Builder也支持_fastcall调用规范。调用规范影响编译器产生的给定函数名，参数传递的顺序（从右到左或从左到右），堆栈清理责任（调用者或者被调用者）以及参数传递机制（堆栈，CPU寄存器等）。</p>
<p>将调用规范看成是函数类型的一部分是很重要的；不能用不兼容的调用规范将地址赋值给函数指针。例如：</p>
<p>// 被调用函数是以int为参数，以int为返回值<br>__stdcall int callee(int); </p>
<p>// 调用函数以函数指针为参数<br>void caller( __cdecl int(*ptr)(int)); </p>
<p>// 在p中企图存储被调用函数地址的非法操作<br>__cdecl int(*p)(int) = callee; // 出错</p>
<p>指针p和callee()的类型不兼容，因为它们有不同的调用规范。因此不能将被调用者的地址赋值给指针p，尽管两者有相同的返回值和参数列</p>
<p>2.3 应用举例</p>
<p>C语言的标准库函数中很多地方就采用了回调函数来让用户定制处理过程。如常用的快速排序函数、二分搜索函数等。</p>
<p>快速排序函数原型：</p>
<p>void qsort(void <em>base, size_t nelem, size_t width, int (_USERENTRY </em>fcmp)(const void <em>, const void </em>));<br>二分搜索函数原型：<br>void <em>bsearch(const void </em>key, const void <em>base, size_t nelem,<br>                 size_t width, int (_USERENTRY </em>fcmp)(const void <em>, const void </em>));</p>
<p>其中fcmp就是一个回调函数的变量。</p>
<p>下面给出一个具体的例子：</p>
<p>#include <stdio.h></stdio.h></p>
<p>#include <stdlib.h></stdlib.h></p>
<p>int sort_function( const void <em>a, const void </em>b);<br>int list[5] = { 54, 21, 11, 67, 22 };</p>
<p>int main(void)<br>{<br>   int  x;</p>
<p>   qsort((void *)list, 5, sizeof(list[0]), sort_function);<br>   for (x = 0; x &lt; 5; x++)<br>      printf(“%i\n”, list[x]);<br>   return 0;<br>}</p>
<p>int sort_function( const void <em>a, const void </em>b)<br>{<br>   return <em>(int</em>)a-<em>(int</em>)b;<br>}</p>
<p>2.4 面向对象语言中的回调（Delphi）</p>
<p>Dephi与C++一样，为了保持与过程语言Pascal的兼容性，它在引入面向对象机制的同时，保留了以前的结构化特性。因此，对回调的实现，也有两种截然不同的模式，一种是结构化的函数回调模式，一种是面向对象的接口模式。</p>
<p>2.4.1 回调函数</p>
<p>回调函数类型定义：</p>
<p>type<br>   TCalcFunc=function (a:integer;b:integer):integer;</p>
<p>按照回调函数的格式自定义函数的实现，如</p>
<p>function Add(a:integer;b:integer):integer<br>begin<br>  result:=a+b;<br>end;<br>function Sub(a:integer;b:integer):integer<br>begin<br>  result:=a-b;<br>end;</p>
<p>回调的使用</p>
<p>function Calc(calc:TcalcFunc;a:integer;b:integer):integer</p>
<p>下面，我们就可以在我们的程序里按照需要调用这两个函数了</p>
<p>c:=calc(add,a,b);//c=a+b<br>c:=calc(sub,a,b);//c=a-b</p>
<p>2.4.2 回调对象</p>
<p>什么叫回调对象呢，它具体用在哪些场合？首先，让我们把它与回调函数对比一下，回调函数是一个定义了函数的原型，函数体则交由第三方来实现的一种动态应用模式。要实现一个回调函数，我们必须明确知道几点：该函数需要那些参数，返回什么类型的值。同样，一个回调对象也是一个定义了对象接口，但是没有具体实现的抽象类（即接口）。要实现一个回调对象，我们必须知道：它需要实现哪些方法，每个方法中有哪些参数，该方法需要放回什么值。</p>
<p>因此，在回调对象这种应用模式中，我们会用到接口。接口可以理解成一个定义好了但是没有实现的类，它只能通过继承的方式被别的类实现。Delphi中的接口和COM接口类似，所有的接口都继承与IInterface（等同于IUnknow），并且要实现三个基本的方法QueryInterface, _AddRef, 和_Release。</p>
<p>定义一个接口 </p>
<p>type IShape=interface(IInterface)<br>    procedure Draw;<br>end</p>
<p>实现回调类 </p>
<p>type TRect=class(TObject,IShape)<br>    protected<br>      function QueryInterface(const IID: TGUID; out Obj): HResult; stdcall;<br>      function _AddRef: Integer; stdcall;<br>function _Release: Integer; stdcall;<br>    public<br>      procedure Draw;<br>end;</p>
<p>type TRound=class(TObject,IShape)<br>    protected<br>      function QueryInterface(const IID: TGUID; out Obj): HResult; stdcall;<br>      function _AddRef: Integer; stdcall;<br>function _Release: Integer; stdcall;<br>    public<br>      procedure Draw;<br>end;</p>
<p>使用回调对象 </p>
<p>procedure MyDraw(shape:IShape);<br>var<br>shape:IShape;<br>begin<br>shape.Draw;<br>end;</p>
<p>如果传入的对象为TRect，那么画矩形；如果为TRound，那么就为圆形。用户也可以按照自己的意图来实现IShape接口，画出自己的图形：</p>
<p>MyDraw(Trect.Create);<br>MyDraw(Tround.Create);</p>
<p>2.4.3 回调方法</p>
<p>回调方法(Callback Method)可以看作是回调对象的一部分，Delphi对windows消息的封装就采用了回调方法这个概念。在有些场合，我们不需要按照给定的要求实现整个对象，而只要实现其中的一个方法就可以了，这是我们就会用到回调方法。</p>
<p>回调方法的定义如下：</p>
<p>TNotifyEvent = procedure(Sender: TObject) of object;<br>TMyEvent=procedure(Sender:Tobject;EventId:Integer) of object;</p>
<p>TNotifyEvent 是Delphi中最常用的回调方法，窗体、控件的很多事件，如单击事件、关闭事件等都是采用了TnotifyEvent。回调方法的变量一般通过事件属性的方式来定义，如TCustomForm的创建事件的定义：</p>
<p>property OnCreate: TNotifyEvent read FOnCreate write FOnCreate stored IsForm;</p>
<p>我们通过给事件属性变量赋值就可以定制事件处理器。</p>
<p>用户定义对象（包含回调方法的对象）：</p>
<p>type TCallback=Class<br>    procedure ClickFunc(sender:TObject);<br>end;<br>procedure Tcallback.ClickFunc(sender:TObject);<br>begin<br>  showmessage(‘the caller is clicked!’);<br>end;</p>
<p>窗体对象：</p>
<p>type TCustomFrm=class(TForm)<br>  public<br>    procedure RegisterClickFunc(cb:procedure(sender:Tobject) of object);<br>end;</p>
<p>procedure TcustomFrm..RegisterClickFunc(cb:TNotifyEvent);<br>begin<br>  self.OnClick=cb;<br>end;</p>
<p>使用方法：</p>
<p>var<br>  frm:TcustomFrm;<br>begin<br>  frm:=TcustomFrm.Create(Application);<br>  frm.RegisterClickFunc(Tcallback.Create().ClickFunc);<br>end;</p>
<p>3 回调在分布式计算中的应用（CORBA）</p>
<p>3.1 回调接口模型</p>
<p>CORBA的消息传递机制有很多种，比如回调接口、事件服务和通知服务等。回调接口的原理很简单，CORBA客户和服务器都具有双重角色，即充当服务器也是客户客户。</p>
<p>回调接口的反向调用与正向调用往往是同时进行的，如果服务端多次调用该回调接口，那么这个回调接口就变成异步接口了。因此，回调接口在CORBA中常常充当事件注册的用途，客户端调用该注册函数时，客户函数就是回调函数，在此后的调用中，由于不需要客户端的主动参与，该函数就是实现了一种异步机制。</p>
<p>从CORBA规范我们知道，一个CORBA接口在服务端和客户端有不同的表现形式，在客户端一般使用桩（Stub）文件，服务端则用到框架（Skeleton）文件，接口的规格采用IDL来定义。而回调函数的引入，使得服务端和客户端都需要实现一定的桩和框架。下面是回调接口的实现模型：</p>
<p>3.1.1 范例</p>
<p>下面给出了一个使用回调的接口文件，服务端需要实现Server接口的框架，客户端需要实现CallBack的框架：</p>
<p>module cb<br>{<br>    interface CallBack;<br>    interface Server;</p>
<p>interface CallBack<br>{<br>        void OnEvent(in long Source,in long msg);<br>};<br>      interface Server<br>{<br>        long RegisterCB(in CallBack cb);<br>        void UnRegisterCB(in long hCb);<br>};<br>};</p>
<p>客户端首先通过同步方式调用服务端的接口RegistCB，用来注册回调接口CallBack。服务端收到该请求以后，就会保留该接口引用，如果发生某种事件需要向客户端通知的时候就通过该引用调用客户方的OnEvent函数，以便对方及时处理。</p>
<p>分类: 程序设计</p>

        
      </div>
    </div>

  
    </div>
  



  <div class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/categories/技术/javascript/page/2/">2</a><a class="extend next" rel="next" href="/categories/技术/javascript/page/2/">下一页</a>
  </div>




          <div class="main-footer">
  
    © 2016 findmoon-白色蜗牛 - Powered by <a href="http://hexo.io" target="_blank">Hexo</a> - Theme <a href="https://github.com/denjones/hexo-theme-chan" target="_blank">Chan</a>
  
</div>

      
        </div>
      
    </div>
  </div>
  <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

  <link rel="stylesheet" href="/PhotoSwipe/photoswipe.css">
  <link rel="stylesheet" href="/PhotoSwipe/default-skin/default-skin.css">

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
             It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

      <!-- Container that holds slides.
                PhotoSwipe keeps only 3 of them in the DOM to save memory.
                Don't modify these 3 pswp__item elements, data is added later on. -->
      <div class="pswp__container">
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
      </div>

      <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
      <div class="pswp__ui pswp__ui--hidden">

        <div class="pswp__top-bar">

          <!--  Controls are self-explanatory. Order can be changed. -->

          <div class="pswp__counter"></div>

          <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

          <button class="pswp__button pswp__button--share" title="Share"></button>

          <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

          <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

          <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
          <!-- element will get class pswp__preloader--active when preloader is running -->
          <div class="pswp__preloader">
            <div class="pswp__preloader__icn">
              <div class="pswp__preloader__cut">
                <div class="pswp__preloader__donut"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
          <div class="pswp__share-tooltip"></div>
        </div>

        <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>

        <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

        <div class="pswp__caption">
          <div class="pswp__caption__center"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="/PhotoSwipe/photoswipe.js"></script>
  <script src="/PhotoSwipe/photoswipe-ui-default.js"></script>


<script src="/perfect-scrollbar/js/min/perfect-scrollbar.min.js"></script>
<script src="/scripts/main.js"></script>

</body>
</html>
