<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>findmoon白色蜗牛</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="人生是一场不断的转换，我们总是不断地试着所向披靡">
<meta property="og:type" content="website">
<meta property="og:title" content="findmoon白色蜗牛">
<meta property="og:url" content="//findmoon.github.io/index.html/page/6/index.html">
<meta property="og:site_name" content="findmoon白色蜗牛">
<meta property="og:description" content="人生是一场不断的转换，我们总是不断地试着所向披靡">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="findmoon白色蜗牛">
<meta name="twitter:description" content="人生是一场不断的转换，我们总是不断地试着所向披靡">
  
    <link rel="alternative" href="/atom.xml" title="findmoon白色蜗牛" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/" title="Hi Mate">findmoon</a></h1>
        </hgroup>

        
        <p class="header-subtitle">一个试图专注于自身的成长者</p>
        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">博客首页</a></li>
                        
                            <li><a href="/Home">个人简历</a></li>
                        
                            <li><a href="/works">作品展示</a></li>
                        
                            <li><a href="/archives">所有文章</a></li>
                        
                            <li><a href="/about">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=hre0vrCwtbG3v77G9-eo5enr" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/findmoon/mywork" title="github">github</a>
                            
                                <a class="fl weibo" target="_blank" href="http://weibo.com/u/2637672265?is_all=1" title="weibo">weibo</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/Array/" style="font-size: 11.67px;">Array</a> <a href="/tags/BFC/" style="font-size: 11.67px;">BFC</a> <a href="/tags/Backbone/" style="font-size: 10px;">Backbone</a> <a href="/tags/CSS3动画/" style="font-size: 10px;">CSS3动画</a> <a href="/tags/DNS解析域名/" style="font-size: 10px;">DNS解析域名</a> <a href="/tags/DOCTYPE/" style="font-size: 10px;">DOCTYPE</a> <a href="/tags/Javascript/" style="font-size: 10px;">Javascript</a> <a href="/tags/MV模式/" style="font-size: 13.33px;">MV模式</a> <a href="/tags/Mocha/" style="font-size: 10px;">Mocha</a> <a href="/tags/TCP-UDP/" style="font-size: 11.67px;">TCP/UDP</a> <a href="/tags/TCP三次握手/" style="font-size: 10px;">TCP三次握手</a> <a href="/tags/TDD/" style="font-size: 10px;">TDD</a> <a href="/tags/UNICODE-ASCII/" style="font-size: 10px;">UNICODE/ASCII</a> <a href="/tags/animate/" style="font-size: 10px;">animate()</a> <a href="/tags/animate动画队列/" style="font-size: 10px;">animate动画队列</a> <a href="/tags/background-image/" style="font-size: 10px;">background-image</a> <a href="/tags/border/" style="font-size: 13.33px;">border</a> <a href="/tags/border图形/" style="font-size: 10px;">border图形</a> <a href="/tags/box-shadow/" style="font-size: 10px;">box-shadow</a> <a href="/tags/console-log/" style="font-size: 10px;">console.log()</a> <a href="/tags/css/" style="font-size: 11.67px;">css</a> <a href="/tags/css3/" style="font-size: 10px;">css3</a> <a href="/tags/css属性/" style="font-size: 11.67px;">css属性</a> <a href="/tags/css样式/" style="font-size: 10px;">css样式</a> <a href="/tags/deferred/" style="font-size: 11.67px;">deferred</a> <a href="/tags/delete/" style="font-size: 11.67px;">delete</a> <a href="/tags/first-child/" style="font-size: 10px;">first-child</a> <a href="/tags/first-of-type/" style="font-size: 10px;">first-of-type</a> <a href="/tags/float/" style="font-size: 11.67px;">float</a> <a href="/tags/font-face/" style="font-size: 10px;">font-face</a> <a href="/tags/form表单/" style="font-size: 10px;">form表单</a> <a href="/tags/get/" style="font-size: 10px;">get</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/gitbash/" style="font-size: 10px;">gitbash</a> <a href="/tags/git错误/" style="font-size: 10px;">git错误</a> <a href="/tags/hack/" style="font-size: 10px;">hack</a> <a href="/tags/haslayout/" style="font-size: 10px;">haslayout</a> <a href="/tags/html/" style="font-size: 18.33px;">html</a> <a href="/tags/http/" style="font-size: 11.67px;">http</a> <a href="/tags/http状态码/" style="font-size: 10px;">http状态码</a> <a href="/tags/inline-block/" style="font-size: 10px;">inline-block</a> <a href="/tags/input/" style="font-size: 10px;">input</a> <a href="/tags/instanceof/" style="font-size: 10px;">instanceof</a> <a href="/tags/instanceof-typeof/" style="font-size: 11.67px;">instanceof/typeof</a> <a href="/tags/js/" style="font-size: 13.33px;">js</a> <a href="/tags/json/" style="font-size: 13.33px;">json</a> <a href="/tags/js严格模式/" style="font-size: 10px;">js严格模式</a> <a href="/tags/js加载/" style="font-size: 10px;">js加载</a> <a href="/tags/js模板引擎/" style="font-size: 10px;">js模板引擎</a> <a href="/tags/list-style/" style="font-size: 10px;">list-style</a> <a href="/tags/meta/" style="font-size: 10px;">meta</a> <a href="/tags/mock/" style="font-size: 10px;">mock</a> <a href="/tags/offset/" style="font-size: 10px;">offset()</a> <a href="/tags/overflow/" style="font-size: 10px;">overflow</a> <a href="/tags/php/" style="font-size: 20px;">php</a> <a href="/tags/placeholder/" style="font-size: 10px;">placeholder</a> <a href="/tags/position/" style="font-size: 10px;">position</a> <a href="/tags/position文档流/" style="font-size: 10px;">position文档流</a> <a href="/tags/post/" style="font-size: 10px;">post</a> <a href="/tags/scopechain/" style="font-size: 10px;">scopechain</a> <a href="/tags/stopImmediatePropagation/" style="font-size: 10px;">stopImmediatePropagation</a> <a href="/tags/stringify/" style="font-size: 10px;">stringify</a> <a href="/tags/sublime/" style="font-size: 10px;">sublime</a> <a href="/tags/this/" style="font-size: 10px;">this</a> <a href="/tags/typeof/" style="font-size: 11.67px;">typeof</a> <a href="/tags/undefined/" style="font-size: 10px;">undefined</a> <a href="/tags/url加载/" style="font-size: 10px;">url加载</a> <a href="/tags/zoom/" style="font-size: 10px;">zoom</a> <a href="/tags/代码书写/" style="font-size: 10px;">代码书写</a> <a href="/tags/函数/" style="font-size: 15px;">函数</a> <a href="/tags/列表/" style="font-size: 10px;">列表</a> <a href="/tags/前端/" style="font-size: 10px;">前端</a> <a href="/tags/动画animation/" style="font-size: 10px;">动画animation</a> <a href="/tags/变量/" style="font-size: 11.67px;">变量</a> <a href="/tags/同源跨域/" style="font-size: 16.67px;">同源跨域</a> <a href="/tags/字符串/" style="font-size: 10px;">字符串</a> <a href="/tags/字面量/" style="font-size: 10px;">字面量</a> <a href="/tags/库与架构/" style="font-size: 10px;">库与架构</a> <a href="/tags/数学函数/" style="font-size: 10px;">数学函数</a> <a href="/tags/数据包组装/" style="font-size: 10px;">数据包组装</a> <a href="/tags/数组/" style="font-size: 11.67px;">数组</a> <a href="/tags/方法/" style="font-size: 10px;">方法</a> <a href="/tags/标记语言/" style="font-size: 10px;">标记语言</a> <a href="/tags/模块化编程/" style="font-size: 13.33px;">模块化编程</a> <a href="/tags/立即执行函数/" style="font-size: 10px;">立即执行函数</a> <a href="/tags/简历/" style="font-size: 10px;">简历</a> <a href="/tags/网站访问/" style="font-size: 10px;">网站访问</a> <a href="/tags/获取路径/" style="font-size: 15px;">获取路径</a> <a href="/tags/行内元素/" style="font-size: 10px;">行内元素</a> <a href="/tags/语法/" style="font-size: 10px;">语法</a> <a href="/tags/跨域请求/" style="font-size: 11.67px;">跨域请求</a> <a href="/tags/跨域请求处理方法/" style="font-size: 10px;">跨域请求处理方法</a> <a href="/tags/选择器/" style="font-size: 10px;">选择器</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://luuman.github.io/">name</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">人生是一场不断的转换，我们总是不断地试着所向披靡</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">findmoon</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">findmoon</a></h1>
            </hgroup>
            
            <p class="header-subtitle">一个试图专注于自身的成长者</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">博客首页</a></li>
                
                    <li><a href="/Home">个人简历</a></li>
                
                    <li><a href="/works">作品展示</a></li>
                
                    <li><a href="/archives">所有文章</a></li>
                
                    <li><a href="/about">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=hre0vrCwtbG3v77G9-eo5enr" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/findmoon/mywork" title="github">github</a>
                    
                        <a class="weibo" target="_blank" href="http://weibo.com/u/2637672265?is_all=1" title="weibo">weibo</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-PHP完整表单实例" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/23/PHP完整表单实例/" class="article-date">
      <time datetime="2016-05-23T08:50:32.000Z" itemprop="datePublished">2016-05-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/23/PHP完整表单实例/">PHP完整表单实例</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="PHP-完整表单实例"><a href="#PHP-完整表单实例" class="headerlink" title="PHP 完整表单实例"></a>PHP 完整表单实例</h2><p>本章节将介绍如何让用户在点击”提交（submit）”按钮提交数据前保证所有字段正确输入。</p>
<ul>
<li>PHP - 在表单中确保输入值</li>
</ul>
<p>在用户点击提交按钮后，为确保字段值是否输入正确，我们在HTML的input元素中插添加PHP脚本， 各字段名为: name, email, 和 website。 在评论的 textarea 字段中，我们将脚本放于 &lt; textarea&gt; 和 &lt; /textarea&gt; 标签之间。 PHP脚本输出值为： $name, $email, $website, 和 $comment 变量。</p>
<p>然后，我们同样需要检查被选中的单选按钮， 对于这一点，我们 必须设置好checked属性(不是radio按钮的 value 属性) :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Name: &lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;&lt;?php echo $name;?&gt;&quot;&gt;</span><br><span class="line"></span><br><span class="line">E-mail: &lt;input type=&quot;text&quot; name=&quot;email&quot; value=&quot;&lt;?php echo $email;?&gt;&quot;&gt;</span><br><span class="line"></span><br><span class="line">Website: &lt;input type=&quot;text&quot; name=&quot;website&quot; value=&quot;&lt;?php echo $website;?&gt;&quot;&gt;</span><br><span class="line"></span><br><span class="line">Comment: &lt;textarea name=&quot;comment&quot; rows=&quot;5&quot; cols=&quot;40&quot;&gt;&lt;?php echo $comment;?&gt;&lt;/textarea&gt;</span><br><span class="line"></span><br><span class="line">Gender:</span><br><span class="line">&lt;input type=&quot;radio&quot; name=&quot;gender&quot;</span><br><span class="line">&lt;?php if (isset($gender) &amp;&amp; $gender==&quot;female&quot;) echo &quot;checked&quot;;?&gt;</span><br><span class="line">value=&quot;female&quot;&gt;Female</span><br><span class="line">&lt;input type=&quot;radio&quot; name=&quot;gender&quot;</span><br><span class="line">&lt;?php if (isset($gender) &amp;&amp; $gender==&quot;male&quot;) echo &quot;checked&quot;;?&gt;</span><br><span class="line">value=&quot;male&quot;&gt;Male</span><br></pre></td></tr></table></figure></p>
<h2 id="PHP-完整表单实例-1"><a href="#PHP-完整表单实例-1" class="headerlink" title="PHP - 完整表单实例"></a>PHP - 完整表单实例</h2><p>以下是完整的PHP表单验证实例代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt; </span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.error &#123;color: #FF0000;&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt; </span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">// define variables and set to empty values</span><br><span class="line">$nameErr = $emailErr = $genderErr = $websiteErr = &quot;&quot;;</span><br><span class="line">$name = $email = $gender = $comment = $website = &quot;&quot;;</span><br><span class="line"></span><br><span class="line">if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;)</span><br><span class="line">&#123;</span><br><span class="line">   if (empty($_POST[&quot;name&quot;]))</span><br><span class="line">     &#123;$nameErr = &quot;Name is required&quot;;&#125;</span><br><span class="line">   else</span><br><span class="line">     &#123;</span><br><span class="line">     $name = test_input($_POST[&quot;name&quot;]);</span><br><span class="line">     // check if name only contains letters and whitespace</span><br><span class="line">     if (!preg_match(&quot;/^[a-zA-Z ]*$/&quot;,$name))</span><br><span class="line">       &#123;</span><br><span class="line">       $nameErr = &quot;Only letters and white space allowed&quot;; </span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   </span><br><span class="line">   if (empty($_POST[&quot;email&quot;]))</span><br><span class="line">     &#123;$emailErr = &quot;Email is required&quot;;&#125;</span><br><span class="line">   else</span><br><span class="line">     &#123;</span><br><span class="line">     $email = test_input($_POST[&quot;email&quot;]);</span><br><span class="line">     // check if e-mail address syntax is valid</span><br><span class="line">     if (!preg_match(&quot;/([\w\-]+\@[\w\-]+\.[\w\-]+)/&quot;,$email))</span><br><span class="line">       &#123;</span><br><span class="line">       $emailErr = &quot;Invalid email format&quot;; </span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     </span><br><span class="line">   if (empty($_POST[&quot;website&quot;]))</span><br><span class="line">     &#123;$website = &quot;&quot;;&#125;</span><br><span class="line">   else</span><br><span class="line">     &#123;</span><br><span class="line">     $website = test_input($_POST[&quot;website&quot;]);</span><br><span class="line">     // check if URL address syntax is valid (this regular expression also allows dashes in the URL)</span><br><span class="line">     if (!preg_match(&quot;/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&amp;@#\/%?=~_|!:,.;]*[-a-z0-9+&amp;@#\/%=~_|]/i&quot;,$website))</span><br><span class="line">       &#123;</span><br><span class="line">       $websiteErr = &quot;Invalid URL&quot;; </span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">   if (empty($_POST[&quot;comment&quot;]))</span><br><span class="line">     &#123;$comment = &quot;&quot;;&#125;</span><br><span class="line">   else</span><br><span class="line">     &#123;$comment = test_input($_POST[&quot;comment&quot;]);&#125;</span><br><span class="line"></span><br><span class="line">   if (empty($_POST[&quot;gender&quot;]))</span><br><span class="line">     &#123;$genderErr = &quot;Gender is required&quot;;&#125;</span><br><span class="line">   else</span><br><span class="line">     &#123;$gender = test_input($_POST[&quot;gender&quot;]);&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function test_input($data)</span><br><span class="line">&#123;</span><br><span class="line">     $data = trim($data);</span><br><span class="line">     $data = stripslashes($data);</span><br><span class="line">     $data = htmlspecialchars($data);</span><br><span class="line">     return $data;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;h2&gt;PHP Form Validation Example&lt;/h2&gt;</span><br><span class="line">&lt;p&gt;&lt;span class=&quot;error&quot;&gt;* required field.&lt;/span&gt;&lt;/p&gt;</span><br><span class="line">&lt;form method=&quot;post&quot; action=&quot;&lt;?php echo htmlspecialchars($_SERVER[&quot;PHP_SELF&quot;]);?&gt;&quot;&gt; </span><br><span class="line">   Name: &lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;&lt;?php echo $name;?&gt;&quot;&gt;</span><br><span class="line">   &lt;span class=&quot;error&quot;&gt;* &lt;?php echo $nameErr;?&gt;&lt;/span&gt;</span><br><span class="line">   &lt;br&gt;&lt;br&gt;</span><br><span class="line">   E-mail: &lt;input type=&quot;text&quot; name=&quot;email&quot; value=&quot;&lt;?php echo $email;?&gt;&quot;&gt;</span><br><span class="line">   &lt;span class=&quot;error&quot;&gt;* &lt;?php echo $emailErr;?&gt;&lt;/span&gt;</span><br><span class="line">   &lt;br&gt;&lt;br&gt;</span><br><span class="line">   Website: &lt;input type=&quot;text&quot; name=&quot;website&quot; value=&quot;&lt;?php echo $website;?&gt;&quot;&gt;</span><br><span class="line">   &lt;span class=&quot;error&quot;&gt;&lt;?php echo $websiteErr;?&gt;&lt;/span&gt;</span><br><span class="line">   &lt;br&gt;&lt;br&gt;</span><br><span class="line">   Comment: &lt;textarea name=&quot;comment&quot; rows=&quot;5&quot; cols=&quot;40&quot;&gt;&lt;?php echo $comment;?&gt;&lt;/textarea&gt;</span><br><span class="line">   &lt;br&gt;&lt;br&gt;</span><br><span class="line">   Gender:</span><br><span class="line">   &lt;input type=&quot;radio&quot; name=&quot;gender&quot; &lt;?php if (isset($gender) &amp;&amp; $gender==&quot;female&quot;) echo &quot;checked&quot;;?&gt;  value=&quot;female&quot;&gt;Female</span><br><span class="line">   &lt;input type=&quot;radio&quot; name=&quot;gender&quot; &lt;?php if (isset($gender) &amp;&amp; $gender==&quot;male&quot;) echo &quot;checked&quot;;?&gt;  value=&quot;male&quot;&gt;Male</span><br><span class="line">   &lt;span class=&quot;error&quot;&gt;* &lt;?php echo $genderErr;?&gt;&lt;/span&gt;</span><br><span class="line">   &lt;br&gt;&lt;br&gt;</span><br><span class="line">   &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;Submit&quot;&gt; </span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">echo &quot;&lt;h2&gt;Your Input:&lt;/h2&gt;&quot;;</span><br><span class="line">echo $name;</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">echo $email;</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">echo $website;</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">echo $comment;</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">echo $gender;</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a><a class="article-category-link" href="/categories/技术/php/">php</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-PHP$_GET 变量" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/23/PHP$_GET 变量/" class="article-date">
      <time datetime="2016-05-23T08:50:32.000Z" itemprop="datePublished">2016-05-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/23/PHP$_GET 变量/">PHP$_GET 变量</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="PHP-GET-变量"><a href="#PHP-GET-变量" class="headerlink" title="PHP $_GET 变量"></a>PHP $_GET 变量</h2><ul>
<li><p>在 PHP 中，预定义的 $_GET 变量用于收集来自 method=”get” 的表单中的值。</p>
</li>
<li><p>从带有 GET 方法的表单发送的信息，对任何人都是可见的（会显示在浏览器的地址栏），并且对发送信息的量也有限制。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=&quot;welcome.php&quot; method=&quot;get&quot;&gt;</span><br><span class="line">Name: &lt;input type=&quot;text&quot; name=&quot;fname&quot;&gt;</span><br><span class="line">Age: &lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;</span><br><span class="line">&lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<p>当用户点击 “Submit” 按钮时，发送到服务器的 URL 如下所示：</p>
<blockquote>
<p><a href="http://www.w3cschool.cc/welcome.php?fname=Peter&amp;age=37" target="_blank" rel="external">http://www.w3cschool.cc/welcome.php?fname=Peter&amp;age=37</a></p>
</blockquote>
<p>“welcome.php” 文件现在可以通过 $_GET 变量来收集表单数据了（请注意，表单域的名称会自动成为 $_GET 数组中的键）：</p>
<blockquote>
<p>Welcome &lt;?php echo $_GET[“fname”]; ?&gt;.<br><br>You are &lt;?php echo $_GET[“age”]; ?&gt; years old!</p>
</blockquote>
<h3 id="何时使用-method-”get”？"><a href="#何时使用-method-”get”？" class="headerlink" title="何时使用 method=”get”？"></a>何时使用 method=”get”？</h3><p>在 HTML 表单中使用 method=”get” 时，所有的变量名和值都会显示在 URL 中。</p>
<p><strong>所以在发送密码或其他敏感信息时，不应该使用这个方法！</strong></p>
<p>然而，正因为变量显示在 URL 中，<strong>因此可以在收藏夹中收藏该页面</strong>。在某些情况下，这是很有用的。</p>
<p><em>HTTP GET 方法不适合大型的变量值。它的值是不能超过 2000 个字符的。</em></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a><a class="article-category-link" href="/categories/技术/php/">php</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-PHP表单验证邮件和URL" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/23/PHP表单验证邮件和URL/" class="article-date">
      <time datetime="2016-05-23T08:45:32.000Z" itemprop="datePublished">2016-05-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/23/PHP表单验证邮件和URL/">PHP表单验证邮件和URL</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="PHP-表单验证邮件和URL"><a href="#PHP-表单验证邮件和URL" class="headerlink" title="PHP 表单验证邮件和URL"></a>PHP 表单验证邮件和URL</h2><h3 id="PHP-验证名称"><a href="#PHP-验证名称" class="headerlink" title="PHP - 验证名称"></a>PHP - 验证名称</h3><p>以下代码将通过简单的方式来检测 name 字段是否包含字母和空格，如果 name 字段值不合法，将输出错误信息：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$name = test_input($_POST[&quot;name&quot;]);</span><br><span class="line">if (!preg_match(&quot;/^[a-zA-Z ]*$/&quot;,$name))</span><br><span class="line">  &#123;</span><br><span class="line">  $nameErr = &quot;只允许字母及空格&quot;; </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>preg_match — 进行正则表达式匹配。</p>
<p>语法：<br>int preg_match ( string $pattern , string $subject [, array $matches [, int $flags ]] )</p>
<p>在 subject 字符串中搜索与 pattern 给出的正则表达式相匹配的内容。如果提供了 matches ，则其会被搜索的结果所填充。$matches[0] 将包含与整个模式匹配的文本，$matches[1] 将包含与第一个捕获的括号中的子模式所匹配的文本，以此类推。</p>
</blockquote>
<h3 id="PHP-验证邮件"><a href="#PHP-验证邮件" class="headerlink" title="PHP - 验证邮件"></a>PHP - 验证邮件</h3><p>以下代码将通过简单的方式来检测 e-mail 地址是否合法。如果 e-mail 地址不合法，将输出错误信息：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$email = test_input($_POST[&quot;email&quot;]);</span><br><span class="line">if (!preg_match(&quot;/([\w\-]+\@[\w\-]+\.[\w\-]+)/&quot;,$email))</span><br><span class="line">  &#123;</span><br><span class="line">  $emailErr = &quot;非法邮件地址&quot;; </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h3 id="PHP-验证-URL"><a href="#PHP-验证-URL" class="headerlink" title="PHP - 验证 URL"></a>PHP - 验证 URL</h3><p>以下代码将检测URL地址是否合法 (以下正则表达式运行URL中含有破折号:”-“)， 如果 URL 地址不合法，将输出错误信息：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$website = test_input($_POST[&quot;website&quot;]);</span><br><span class="line">if (!preg_match(&quot;/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&amp;@#\/%?=~_|!:,.;]*[-a-z0-9+&amp;@#\/%=~_|]/i&quot;,$website))</span><br><span class="line">  &#123;</span><br><span class="line">  $websiteErr = &quot;不合法的 URL&quot;; </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="PHP-验证-Name-E-mail-和-URL"><a href="#PHP-验证-Name-E-mail-和-URL" class="headerlink" title="PHP - 验证 Name, E-mail, 和 URL"></a>PHP - 验证 Name, E-mail, 和 URL</h3><p>代码如下所示:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 定义变量并设为空值</span><br><span class="line">$nameErr = $emailErr = $genderErr = $websiteErr = &quot;&quot;;</span><br><span class="line">$name = $email = $gender = $comment = $website = &quot;&quot;;</span><br><span class="line"></span><br><span class="line">if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;)</span><br><span class="line">&#123;</span><br><span class="line">  if (empty($_POST[&quot;name&quot;]))</span><br><span class="line">    &#123;$nameErr = &quot;Name is required&quot;;&#125;</span><br><span class="line">  else</span><br><span class="line">    &#123;</span><br><span class="line">    $name = test_input($_POST[&quot;name&quot;]);</span><br><span class="line">    // check if name only contains letters and whitespace</span><br><span class="line">    if (!preg_match(&quot;/^[a-zA-Z ]*$/&quot;,$name))</span><br><span class="line">      &#123;</span><br><span class="line">      $nameErr = &quot;Only letters and white space allowed&quot;; </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  if (empty($_POST[&quot;email&quot;]))</span><br><span class="line">    &#123;$emailErr = &quot;Email is required&quot;;&#125;</span><br><span class="line">  else</span><br><span class="line">    &#123;</span><br><span class="line">    $email = test_input($_POST[&quot;email&quot;]);</span><br><span class="line">    // check if e-mail address syntax is valid</span><br><span class="line">    if (!preg_match(&quot;/([\w\-]+\@[\w\-]+\.[\w\-]+)/&quot;,$email))</span><br><span class="line">      &#123;</span><br><span class="line">      $emailErr = &quot;Invalid email format&quot;; </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  if (empty($_POST[&quot;website&quot;]))</span><br><span class="line">    &#123;$website = &quot;&quot;;&#125;</span><br><span class="line">  else</span><br><span class="line">    &#123;</span><br><span class="line">    $website = test_input($_POST[&quot;website&quot;]);</span><br><span class="line">    // check if URL address syntax is valid (this regular expression also allows dashes in the URL)</span><br><span class="line">    if (!preg_match(&quot;/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&amp;@#\/%?=~_|!:,.;]*[-a-z0-9+&amp;@#\/%=~_|]/i&quot;,$website))</span><br><span class="line">      &#123;</span><br><span class="line">      $websiteErr = &quot;Invalid URL&quot;; </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  if (empty($_POST[&quot;comment&quot;]))</span><br><span class="line">    &#123;$comment = &quot;&quot;;&#125;</span><br><span class="line">  else</span><br><span class="line">    &#123;$comment = test_input($_POST[&quot;comment&quot;]);&#125;</span><br><span class="line"></span><br><span class="line">  if (empty($_POST[&quot;gender&quot;]))</span><br><span class="line">    &#123;$genderErr = &quot;Gender is required&quot;;&#125;</span><br><span class="line">  else</span><br><span class="line">    &#123;$gender = test_input($_POST[&quot;gender&quot;]);&#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a><a class="article-category-link" href="/categories/技术/php/">php</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-PHP表单验证" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/23/PHP表单验证/" class="article-date">
      <time datetime="2016-05-23T08:40:32.000Z" itemprop="datePublished">2016-05-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/23/PHP表单验证/">PHP表单验证</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="PHP-表单验证"><a href="#PHP-表单验证" class="headerlink" title="PHP 表单验证"></a>PHP 表单验证</h2><ul>
<li>在处理PHP表单时我们需要考虑安全性，为了防止黑客及垃圾信息我们需要对表单进行数据安全验证。</li>
<li>下面的HTML表单中包含以下输入字段： 必须与可选文本字段，单选按钮，及提交按钮：</li>
</ul>
<p><img src="/img/php/435667fbvkj.png" alt=""></p>
<p>上述表单验证规则如下：</p>
<p><img src="/img/php/60527151127.png" alt=""></p>
<h3 id="文本字段"><a href="#文本字段" class="headerlink" title="文本字段"></a>文本字段</h3><p>name, email, 及 website 字段为文本输入元素， comment 字段是 textarea。HTML代码如下所示:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Name: &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;</span><br><span class="line">E-mail: &lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;</span><br><span class="line">Website: &lt;input type=&quot;text&quot; name=&quot;website&quot;&gt;</span><br><span class="line">Comment: &lt;textarea name=&quot;comment&quot; rows=&quot;5&quot; cols=&quot;40&quot;&gt;&lt;/textarea&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="单选按钮"><a href="#单选按钮" class="headerlink" title="单选按钮"></a>单选按钮</h3><p>gender 字段是单选按钮，HTML代码如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Gender:</span><br><span class="line">&lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;female&quot;&gt;Female</span><br><span class="line">&lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;male&quot;&gt;Male</span><br></pre></td></tr></table></figure></p>
<h3 id="表单元素"><a href="#表单元素" class="headerlink" title="表单元素"></a>表单元素</h3><p>HTML 表单代码如下所示:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=&quot;post&quot; action=&quot;&lt;?php echo htmlspecialchars($_SERVER[&quot;PHP_SELF&quot;]);?&gt;&quot;&gt;</span><br><span class="line">该表单使用 method=&quot;post&quot; 方法来提交数据。</span><br><span class="line">Note	什么是 $_SERVER[&quot;PHP_SELF&quot;] 变量?</span><br></pre></td></tr></table></figure></p>
<ul>
<li>$_SERVER[“PHP_SELF”]是超级全局变量，返回当前正在执行脚本的文件名，与 document root相关。<br>所以， $_SERVER[“PHP_SELF”] 会发送表单数据到当前页面，而不是跳转到不同的页面。</li>
</ul>
<blockquote>
<p>什么是 htmlspecialchars()方法?<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">htmlspecialchars() 函数把一些预定义的字符转换为 HTML 实体。</span><br><span class="line">预定义的字符是：</span><br><span class="line">&amp; （和号） 成为 &amp;amp;</span><br><span class="line">&quot; （双引号） 成为 &amp;quot;</span><br><span class="line">&apos; （单引号） 成为 &amp;#039;</span><br><span class="line">&lt; （小于） 成为 &amp;lt;</span><br><span class="line">&gt; （大于） 成为 &amp;gt;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="PHP表单中需引起注重的地方？"><a href="#PHP表单中需引起注重的地方？" class="headerlink" title="PHP表单中需引起注重的地方？"></a>PHP表单中需引起注重的地方？</h3><p>$_SERVER[“PHP_SELF”] 变量有可能会被黑客使用！</p>
<p>当黑客使用跨网站脚本的HTTP链接来攻击时，$_SERVER[“PHP_SELF”]服务器变量也会被植入脚本。原因就是跨网站脚本是附在执行文件的路径后面的，因此$_SERVER[“PHP_SELF”]的字符串就会包含HTTP链接后面的JavaScript程序代码。</p>
<blockquote>
<p>XSS又叫 CSS (Cross-Site Script) ,跨站脚本攻击。恶意攻击者往Web页面里插入恶意html代码，当用户浏览该页之时，嵌入其中Web里面的html代码会被执行，从而达到恶意用户的特殊目的。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">指定以下表单文件名为 &quot;test_form.php&quot;:</span><br><span class="line">&lt;form method=&quot;post&quot; action=&quot;&lt;?php echo $_SERVER[&quot;PHP_SELF&quot;];?&gt;&quot;&gt;</span><br><span class="line">现在，我们使用URL来指定提交地址 &quot;test_form.php&quot;,以上代码修改为如下所示:</span><br><span class="line">&lt;form method=&quot;post&quot; action=&quot;test_form.php&quot;&gt;</span><br><span class="line">这样做就很好了。</span><br><span class="line">但是，考虑到用户会在浏览器地址栏中输入以下地址:</span><br><span class="line">http://www.runoob.com/test_form.php/%22%3E%3Cscript%3Ealert(&apos;hacked&apos;)%3C/script%3E</span><br><span class="line">以上的 URL 中，将被解析为如下代码并执行：</span><br><span class="line">&lt;form method=&quot;post&quot; action=&quot;test_form.php/&quot;&gt;&lt;script&gt;alert(&apos;hacked&apos;)&lt;/script&gt;</span><br><span class="line">代码中添加了 script 标签，并添加了alert命令。 当页面载入时会执行该Javascript代码（用户会看到弹出框）。 这仅仅只是一个简单的实例来说明PHP_SELF变量会被黑客利用。</span><br></pre></td></tr></table></figure>
<p>请注意，<strong>任何JavaScript代码可以添加在&lt; script&gt;标签中！</strong> 黑客可以利用这点重定向页面到另外一台服务器的页面上，页面 代码文件中可以保护恶意代码，代码可以修改全局变量或者获取用户的表单数据，</p>
<ul>
<li>如何避免 $_SERVER[“PHP_SELF”] 被利用?<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$_SERVER[&quot;PHP_SELF&quot;] 可以通过 htmlspecialchars() 函数来避免被利用。</span><br><span class="line">form 代码如下所示：</span><br><span class="line">&lt;form method=&quot;post&quot; action=&quot;&lt;?php echo htmlspecialchars($_SERVER[&quot;PHP_SELF&quot;]);?&gt;&quot;&gt;</span><br><span class="line">htmlspecialchars() 把一些预定义的字符转换为 HTML 实体。现在如果用户想利用 PHP_SELF 变量, 结果将输出如下所示：</span><br><span class="line">&lt;form method=&quot;post&quot; action=&quot;test_form.php/&amp;quot;&amp;gt;&amp;lt;script&amp;gt;alert(&apos;hacked&apos;)&amp;lt;/script&amp;gt;&quot;&gt;</span><br><span class="line">尝试该漏洞失败！</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="使用-PHP-验证表单数据"><a href="#使用-PHP-验证表单数据" class="headerlink" title="使用 PHP 验证表单数据"></a>使用 PHP 验证表单数据</h3><ul>
<li>首先我们对用户所有提交的数据都通过 PHP 的 htmlspecialchars() 函数处理。</li>
</ul>
<p>当我们使用 htmlspecialchars() 函数时，在用户尝试提交以下文本域:<br>&lt; script&gt;location.href(‘<a href="http://www.runoob.com" target="_blank" rel="external">http://www.runoob.com</a>‘)&lt; /script&gt;<br>该代码将不会被执行，因为它会被保存为HTML转义代码，如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;lt;script&amp;gt;location.href(&apos;http://www.runoob.com&apos;)&amp;lt;/script&amp;gt;</span><br></pre></td></tr></table></figure></p>
<p>以上代码是安全的，可以正常在页面显示或者插入邮件中。</p>
<ul>
<li>当用户提交表单时，我们将做以下两件事情，：</li>
</ul>
<p>1.使用 PHP trim() 函数去除用户输入数据中不必要的字符 (如：空格，tab，换行)。</p>
<p>2.使用PHP stripslashes()函数去除用户输入数据中的反斜杠 ()</p>
<p>接下来让我们将这些过滤的函数写在一个我们自己定义的函数中，这样可以大大提高代码的复用性。<br>将函数命名为 test_input()。<br>现在，我们可以通过test_input()函数来检测 $_POST 中的所有变量, 脚本代码如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 定义变量并默认设置为空值</span><br><span class="line">$name = $email = $gender = $comment = $website = &quot;&quot;;</span><br><span class="line"></span><br><span class="line">if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;)</span><br><span class="line">&#123;</span><br><span class="line">  $name = test_input($_POST[&quot;name&quot;]);</span><br><span class="line">  $email = test_input($_POST[&quot;email&quot;]);</span><br><span class="line">  $website = test_input($_POST[&quot;website&quot;]);</span><br><span class="line">  $comment = test_input($_POST[&quot;comment&quot;]);</span><br><span class="line">  $gender = test_input($_POST[&quot;gender&quot;]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function test_input($data)</span><br><span class="line">&#123;</span><br><span class="line">  $data = trim($data);</span><br><span class="line">  $data = stripslashes($data);</span><br><span class="line">  $data = htmlspecialchars($data);</span><br><span class="line">  return $data;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>注意我们在执行以上脚本时，会通过$_SERVER[“REQUEST_METHOD”]来检测表单是否被提交 。如果 REQUEST_METHOD 是 POST, 表单将被提交 数据将被验证。如果表单未提交将跳过验证并显示空白。</li>
</ul>
<p>在以上实例中使用输入项都是可选的，即使用户不输入任何数据也可以正常显示。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a><a class="article-category-link" href="/categories/技术/php/">php</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-PHP表单之必需字段" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/23/PHP表单之必需字段/" class="article-date">
      <time datetime="2016-05-23T08:35:32.000Z" itemprop="datePublished">2016-05-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/23/PHP表单之必需字段/">PHP表单之必需字段</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="PHP-表单-必需字段"><a href="#PHP-表单-必需字段" class="headerlink" title="PHP 表单 - 必需字段"></a>PHP 表单 - 必需字段</h3><p>我们将介绍如何设置表单必需字段及错误信息。</p>
<p>PHP - 必需字段<br>在上一章节我们已经介绍了表的验证规则，我们可以看到”Name”, “E-mail”, 和 “Gender” 字段是必须的，各字段不能为空<br><img src="/img/php/60527151127.png" alt=""></p>
<p>在以下代码中我们加入了一些新的变量: $nameErr, $emailErr, $genderErr, 和 $websiteErr.。这些错误变量将显示在必须字段上。 我们还为每个$_POST变量增加了一个if else语句。 这些语句将检查 $_POST 变量是 否为空（使用php的 empty() 函数）。如果为空，将显示对应的错误信息。 如果不为空，数据将传递给test_input() 函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 定义变量并默认设为空值</span><br><span class="line">$nameErr = $emailErr = $genderErr = $websiteErr = &quot;&quot;;</span><br><span class="line">$name = $email = $gender = $comment = $website = &quot;&quot;;</span><br><span class="line"></span><br><span class="line">if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  if (empty($_POST[&quot;name&quot;]))</span><br><span class="line">    &#123;$nameErr = &quot;Name is required&quot;;&#125;</span><br><span class="line">  else</span><br><span class="line">    &#123;$name = test_input($_POST[&quot;name&quot;]);&#125;</span><br><span class="line"></span><br><span class="line">  if (empty($_POST[&quot;email&quot;]))</span><br><span class="line">    &#123;$emailErr = &quot;Email is required&quot;;&#125;</span><br><span class="line">  else</span><br><span class="line">    &#123;$email = test_input($_POST[&quot;email&quot;]);&#125;</span><br><span class="line"></span><br><span class="line">  if (empty($_POST[&quot;website&quot;]))</span><br><span class="line">    &#123;$website = &quot;&quot;;&#125;</span><br><span class="line">  else</span><br><span class="line">    &#123;$website = test_input($_POST[&quot;website&quot;]);&#125;</span><br><span class="line"></span><br><span class="line">  if (empty($_POST[&quot;comment&quot;]))</span><br><span class="line">    &#123;$comment = &quot;&quot;;&#125;</span><br><span class="line">  else</span><br><span class="line">    &#123;$comment = test_input($_POST[&quot;comment&quot;]);&#125;</span><br><span class="line"></span><br><span class="line">  if (empty($_POST[&quot;gender&quot;]))</span><br><span class="line">    &#123;$genderErr = &quot;Gender is required&quot;;&#125;</span><br><span class="line">  else</span><br><span class="line">    &#123;$gender = test_input($_POST[&quot;gender&quot;]);&#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h3 id="PHP-显示错误信息"><a href="#PHP-显示错误信息" class="headerlink" title="PHP - 显示错误信息"></a>PHP - 显示错误信息</h3><p>在以下的HTML实例表单中，我们为每个字段中添加了一些脚本， 各个脚本会在信息输入错误时显示错误信息。(如果用户未填写信息就提交表单则会输出错误信息):<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=&quot;post&quot; action=&quot;&lt;?php echo htmlspecialchars($_SERVER[&quot;PHP_SELF&quot;]);?&gt;&quot;&gt;</span><br><span class="line"></span><br><span class="line">Name: &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;</span><br><span class="line">&lt;span class=&quot;error&quot;&gt;* &lt;?php echo $nameErr;?&gt;&lt;/span&gt;</span><br><span class="line">&lt;br&gt;&lt;br&gt;</span><br><span class="line">E-mail:</span><br><span class="line">&lt;input type=&quot;text&quot; name=&quot;email&quot;&gt;</span><br><span class="line">&lt;span class=&quot;error&quot;&gt;* &lt;?php echo $emailErr;?&gt;&lt;/span&gt;</span><br><span class="line">&lt;br&gt;&lt;br&gt;</span><br><span class="line">Website:</span><br><span class="line">&lt;input type=&quot;text&quot; name=&quot;website&quot;&gt;</span><br><span class="line">&lt;span class=&quot;error&quot;&gt;&lt;?php echo $websiteErr;?&gt;&lt;/span&gt;</span><br><span class="line">&lt;br&gt;&lt;br&gt;</span><br><span class="line">&lt;label&gt;Comment: &lt;textarea name=&quot;comment&quot; rows=&quot;5&quot; cols=&quot;40&quot;&gt;&lt;/textarea&gt;</span><br><span class="line">&lt;br&gt;&lt;br&gt;</span><br><span class="line">Gender:</span><br><span class="line">&lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;female&quot;&gt;Female</span><br><span class="line">&lt;input type=&quot;radio&quot; name=&quot;gender&quot; value=&quot;male&quot;&gt;Male</span><br><span class="line">&lt;span class=&quot;error&quot;&gt;* &lt;?php echo $genderErr;?&gt;&lt;/span&gt;</span><br><span class="line">&lt;br&gt;&lt;br&gt;</span><br><span class="line">&lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;Submit&quot;&gt; </span><br><span class="line"></span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a><a class="article-category-link" href="/categories/技术/php/">php</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-php表单和用户输入" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/23/php表单和用户输入/" class="article-date">
      <time datetime="2016-05-23T08:25:32.000Z" itemprop="datePublished">2016-05-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/23/php表单和用户输入/">php表单和用户输入</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="PHP-表单和用户输入"><a href="#PHP-表单和用户输入" class="headerlink" title="PHP 表单和用户输入"></a>PHP 表单和用户输入</h2><p>PHP 中的 $_GET 和 $_POST 变量用于检索表单中的信息，比如用户输入。</p>
<h3 id="PHP-表单处理"><a href="#PHP-表单处理" class="headerlink" title="PHP 表单处理"></a>PHP 表单处理</h3><ul>
<li>当处理 HTML 表单时，PHP 能把来自 HTML 页面中的表单元素自动变成可供 PHP 脚本使用。</li>
</ul>
<p>下面的实例包含了一个 HTML 表单，带有两个输入框和一个提交按钮：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;form action=&quot;welcome.php&quot; method=&quot;post&quot;&gt;</span><br><span class="line">Name: &lt;input type=&quot;text&quot; name=&quot;fname&quot;&gt;</span><br><span class="line">Age: &lt;input type=&quot;text&quot; name=&quot;age&quot;&gt;</span><br><span class="line">&lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>当用户填写完上面的表单并点击提交按钮时，表单的数据会被送往名为 “welcome.php” 的 PHP 文件：</p>
<ul>
<li>“welcome.php” 文件如下所示：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">Welcome &lt;?php echo $_POST[&quot;fname&quot;]; ?&gt;!&lt;br&gt;</span><br><span class="line">You are &lt;?php echo $_POST[&quot;age&quot;]; ?&gt; years old.</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>输出如下所示：<br>Welcome John!<br>You are 28 years old.</p>
<h3 id="表单验证"><a href="#表单验证" class="headerlink" title="表单验证"></a>表单验证</h3><p>应该在任何可能的时候对用户输入进行验证（通过客户端脚本）。浏览器验证速度更快，并且可以减轻服务器的负载。<br>如果用户输入需要插入数据库，您应该考虑使用服务器验证。在服务器验证表单的一种好的方式是，把表单传给它自己，而不是跳转到不同的页面。这样用户就可以在同一张表单页面得到错误信息。用户也就更容易发现错误了。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a><a class="article-category-link" href="/categories/技术/php/">php</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-PHP常量" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/23/PHP常量/" class="article-date">
      <time datetime="2016-05-23T08:25:32.000Z" itemprop="datePublished">2016-05-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/23/PHP常量/">PHP常量</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="PHP常量"><a href="#PHP常量" class="headerlink" title="PHP常量"></a>PHP常量</h3><p><strong>常量值被定义后，在脚本的其他任何地方都不能被改变。</strong></p>
<p>PHP 常量</p>
<ul>
<li><p>常量是一个简单值的标识符。该值在脚本中不能改变。</p>
</li>
<li><p>一个常量由英文字母、下划线、和数字组成,但数字不能作为首字母出现。 (常量名不需要加 $ 修饰符)。</p>
</li>
</ul>
<p><strong>注意： 常量在整个脚本中都可以使用。</strong></p>
<h3 id="设置-PHP-常量"><a href="#设置-PHP-常量" class="headerlink" title="设置 PHP 常量"></a>设置 PHP 常量</h3><ul>
<li><blockquote>
<p>设置常量，使用 define() 函数，函数语法如下：<br>define(string constant_name, mixed value, case_insensitive = true)</p>
</blockquote>
</li>
<li><p>该函数有三个参数:</p>
<blockquote>
<p>constant_name：必选参数，常量名称，即标志符。<br>value：必选参数，常量的值。<br>case_insensitive ：可选参数，指定是否大小写敏感，设定为 true 表示不，不区分大小写敏感。默认值为false。</p>
</blockquote>
</li>
<li><p>以下实例我们创建一个 区分大小写的常量, 常量值为 “欢迎访问Runoob.com”：</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 区分大小写的常量名</span><br><span class="line">define(&quot;GREETING&quot;, &quot;欢迎访问 Runoob.com&quot;);</span><br><span class="line">echo GREETING;    // 输出 &quot;欢迎访问 Runoob.com&quot;</span><br><span class="line">echo &apos;&lt;br&gt;&apos;;</span><br><span class="line">echo greeting;   // 输出 &quot;greeting&quot;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>以下实例我们创建一个 不区分大小写的常量, 常量值为 “欢迎访问 Runoob.com”：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 不区分大小写的常量名</span><br><span class="line">define(&quot;GREETING&quot;, &quot;欢迎访问 Runoob.com&quot;, true);</span><br><span class="line">echo greeting;  // 输出 &quot;欢迎访问 Runoob.com&quot;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="常量是全局的"><a href="#常量是全局的" class="headerlink" title="常量是全局的"></a>常量是全局的</h3><ul>
<li>常量在定义后，默认是全局变量，可以在整个运行的脚本的任何地方使用。</li>
</ul>
<p>以下实例演示了在函数内使用常量，即便常量定义在函数外也可以正常使用常量。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">define(&quot;GREETING&quot;, &quot;欢迎访问 Runoob.com&quot;);</span><br><span class="line"></span><br><span class="line">function myTest() &#123;</span><br><span class="line">    echo GREETING;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">myTest();    // 输出 &quot;欢迎访问 Runoob.com&quot;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a><a class="article-category-link" href="/categories/技术/php/">php</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-php函数" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/23/php函数/" class="article-date">
      <time datetime="2016-05-23T08:20:32.000Z" itemprop="datePublished">2016-05-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/23/php函数/">php函数</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="创建PHP函数"><a href="#创建PHP函数" class="headerlink" title="创建PHP函数"></a>创建PHP函数</h2><ul>
<li>函数是通过调用函数来执行的。</li>
</ul>
<blockquote>
<p>function functionName()<br>{<br>要执行的代码;<br>}</p>
</blockquote>
<ul>
<li>PHP 函数准则：<ul>
<li>函数的名称应该提示出它的功能</li>
<li>函数名称以字母或下划线开头（不能以数字开头）</li>
</ul>
</li>
</ul>
<p>一个简单的函数，在其被调用时能输出我的名称：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">function writeName()</span><br><span class="line">&#123;</span><br><span class="line">echo &quot;Kai Jim Refsnes&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">echo &quot;My name is &quot;;</span><br><span class="line">writeName();</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>输出：My name is Kai Jim Refsnes</p>
</blockquote>
<h3 id="PHP-函数-添加参数"><a href="#PHP-函数-添加参数" class="headerlink" title="PHP 函数 - 添加参数"></a>PHP 函数 - 添加参数</h3><p>为了给函数添加更多的功能，我们可以添加参数。参数类似变量。</p>
<ul>
<li>参数就在函数名称后面有一个括号内指定。</li>
</ul>
<p>下面的实例将输出不同的名字，但姓是相同的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">function writeName($fname)</span><br><span class="line">&#123;</span><br><span class="line">echo $fname . &quot; Refsnes.&lt;br&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">echo &quot;My name is &quot;;</span><br><span class="line">writeName(&quot;Kai Jim&quot;);</span><br><span class="line">echo &quot;My sister&apos;s name is &quot;;</span><br><span class="line">writeName(&quot;Hege&quot;);</span><br><span class="line">echo &quot;My brother&apos;s name is &quot;;</span><br><span class="line">writeName(&quot;Stale&quot;);</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>输出：<blockquote>
<p>My name is Kai Jim Refsnes.<br>My sister’s name is Hege Refsnes.<br>My brother’s name is Stale Refsnes.</p>
</blockquote>
</li>
</ul>
<ul>
<li><p>下面的函数有两个参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">function writeName($fname,$punctuation)</span><br><span class="line">&#123;</span><br><span class="line">echo $fname . &quot; Refsnes&quot; . $punctuation . &quot;&lt;br&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">echo &quot;My name is &quot;;</span><br><span class="line">writeName(&quot;Kai Jim&quot;,&quot;.&quot;);</span><br><span class="line">echo &quot;My sister&apos;s name is &quot;;</span><br><span class="line">writeName(&quot;Hege&quot;,&quot;!&quot;);</span><br><span class="line">echo &quot;My brother&apos;s name is &quot;;</span><br><span class="line">writeName(&quot;Ståle&quot;,&quot;?&quot;);</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>输出：</p>
<blockquote>
<p>My name is Kai Jim Refsnes.<br>My sister’s name is Hege Refsnes!<br>My brother’s name is Ståle Refsnes?</p>
</blockquote>
</li>
</ul>
<h3 id="PHP-函数-返回值"><a href="#PHP-函数-返回值" class="headerlink" title="PHP 函数 - 返回值"></a>PHP 函数 - 返回值</h3><p>如需让函数返回一个值，请使用 return 语句。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">function add($x,$y)</span><br><span class="line">&#123;</span><br><span class="line">$total=$x+$y;</span><br><span class="line">return $total;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">echo &quot;1 + 16 = &quot; . add(1,16);</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>输出：1 + 16 = 17</p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a><a class="article-category-link" href="/categories/技术/php/">php</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-php超级全局变量" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/23/php超级全局变量/" class="article-date">
      <time datetime="2016-05-23T08:15:32.000Z" itemprop="datePublished">2016-05-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/23/php超级全局变量/">php超级全局变量</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="PHP-超级全局变量"><a href="#PHP-超级全局变量" class="headerlink" title="PHP 超级全局变量"></a>PHP 超级全局变量</h2><ul>
<li><p>超级全局变量在PHP 4.1.0之后被启用, 是PHP系统中自带的变量，在一个脚本的全部作用域中都可用。</p>
</li>
<li><p>PHP 超级全局变量</p>
</li>
</ul>
<p>PHP中预定义了几个超级全局变量（superglobals） ，这意味着它们在一个脚本的全部作用域中都可用。 你不需要特别说明，就可以在函数及类中使用。</p>
<ul>
<li>PHP 超级全局变量列表:<blockquote>
<p>$GLOBALS<br>$_SERVER<br>$_REQUEST<br>$_POST<br>$_GET<br>$_FILES<br>$_ENV<br>$_COOKIE<br>$_SESSION</p>
</blockquote>
</li>
</ul>
<h3 id="PHP-GLOBALS"><a href="#PHP-GLOBALS" class="headerlink" title="PHP $GLOBALS"></a>PHP $GLOBALS</h3><p>$GLOBALS 是PHP的一个超级全局变量组，在一个PHP脚本的全部作用域中都可以访问。</p>
<ul>
<li>$GLOBALS 是一个包含了全部变量的全局组合数组。变量的名字就是数组的键。</li>
</ul>
<p>以下实例介绍了如何使用超级全局变量 $GLOBALS:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">$x = 75; </span><br><span class="line">$y = 25; </span><br><span class="line">function addition() </span><br><span class="line">&#123; </span><br><span class="line">$GLOBALS[&apos;z&apos;] = $GLOBALS[&apos;x&apos;] + $GLOBALS[&apos;y&apos;]; </span><br><span class="line">&#125;</span><br><span class="line">addition(); </span><br><span class="line">echo $z; </span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<p>以上实例中 z 是一个$GLOBALS数组中的超级全局变量，该变量同样可以在函数外访问。</p>
<h3 id="PHP-SERVER"><a href="#PHP-SERVER" class="headerlink" title="PHP $_SERVER"></a>PHP $_SERVER</h3><ul>
<li><p>$_SERVER 是一个包含了诸如头信息(header)、路径(path)、以及脚本位置(script locations)等等信息的数组。这个数组中的项目由 Web 服务器创建。不能保证每个服务器都提供全部项目；服务器可能会忽略一些，或者提供一些没有在这里列举出来的项目。</p>
</li>
<li><p>以下实例中展示了如何使用$_SERVER中的元素:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">echo $_SERVER[&apos;PHP_SELF&apos;];</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">echo $_SERVER[&apos;SERVER_NAME&apos;];</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">echo $_SERVER[&apos;HTTP_HOST&apos;];</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">echo $_SERVER[&apos;HTTP_REFERER&apos;];</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">echo $_SERVER[&apos;HTTP_USER_AGENT&apos;];</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">echo $_SERVER[&apos;SCRIPT_NAME&apos;];</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>下表列出了所有 $_SERVER 变量中的重要元素:<br>    元素/代码                         || 描述<br>    $_SERVER[‘PHP_SELF’]            ||    当前执行脚本的文件名，与 document root有关。例如，在地址为 <a href="http://example.com/test.php/foo.bar" target="_blank" rel="external">http://example.com/test.php/foo.bar</a> 的脚本中使用 $_SERVER[‘PHP_SELF’] 将得到 /test.php/foo.bar。<strong>FILE</strong> 常量包含当前(例如包含)文件的完整路径和文件名。 从 PHP 4.3.0 版本开始，如果 PHP以命令行模式运行，这个变量将包含脚本名。之前的版本该变量不可用。<br>    $_SERVER[‘GATEWAY_INTERFACE’]   ||    服务器使用的 CGI 规范的版本；例如，”CGI/1.1”。<br>    $_SERVER[‘SERVER_ADDR’]         ||    当前运行脚本所在的服务器的 IP 地址。<br>    $_SERVER[‘SERVER_NAME’]         ||    当前运行脚本所在的服务器的主机名。如果脚本运行于虚拟主机中，该名称是由那个虚拟主机所设置的值决定。(如: www.runoob.com)<br>    $_SERVER[‘SERVER_SOFTWARE’]     ||    服务器标识字符串，在响应请求时的头信息中给出。 (如：Apache/2.2.24)<br>    $_SERVER[‘SERVER_PROTOCOL’]     ||    请求页面时通信协议的名称和版本。例如，”HTTP/1.0”。<br>    $_SERVER[‘REQUEST_METHOD’]      ||    访问页面使用的请求方法；例如，”GET”,”HEAD”，”POST”，”PUT”。<br>    $_SERVER[‘REQUEST_TIME’]        ||    请求开始时的时间戳。从 PHP 5.1.0 起可用。 (如：1377687496)<br>    $_SERVER[‘QUERY_STRING’]        ||    querystring（查询字符串），如果有的话，通过它进行页面访问。<br>    $_SERVER[‘HTTP_ACCEPT’]         ||    当前请求头中 Accept: 项的内容，如果存在的话。<br>    $_SERVER[‘HTTP_ACCEPT_CHARSET’] ||    当前请求头中 Accept-Charset:项的内容，如果存在的话。例如：”iso-8859-1,*,utf-8”。<br>    $_SERVER[‘HTTP_HOST’]           ||    当前请求头中 Host: 项的内容，如果存在的话。<br>    $_SERVER[‘HTTP_REFERER’]        ||    引导用户代理到当前页的前一页的地址（如果存在）。由 user agent设置决定。并不是所有的用户代理都会设置该项，有的还提供了修改 HTTP_REFERER的功能。简言之，该值并不可信。)<br>    $_SERVER[‘HTTPS’]               ||    如果脚本是通过 HTTPS协议被访问，则被设为一个非空的值。<br>    $_SERVER[‘REMOTE_ADDR’]         ||    浏览当前页面的用户的 IP 地址。<br>    $_SERVER[‘REMOTE_HOST’]         ||    浏览当前页面的用户的主机名。DNS反向解析不依赖于用户的 REMOTE_ADDR。<br>    $_SERVER[‘REMOTE_PORT’]         ||    用户机器上连接到 Web 服务器所使用的端口号。<br>    $_SERVER[‘SCRIPT_FILENAME’]     ||    当前执行脚本的绝对路径。<br>    $_SERVER[‘SERVER_ADMIN’]        ||    该值指明了Apache服务器配置文件中的SERVER_ADMIN 参数。如果脚本运行在一个虚拟主机上，则该值是那个虚拟主机的值。(如：someone@runoob.com)<br>    $_SERVER[‘SERVER_PORT’]         ||    Web 服务器使用的端口。默认值为”80”。如果使用SSL 安全连接，则这个值为用户设置的 HTTP 端口。<br>    $_SERVER[‘SERVER_SIGNATURE’]    ||    包含了服务器版本和虚拟主机名的字符串。<br>    $_SERVER[‘PATH_TRANSLATED’]     ||    当前脚本所在文件系统（非文档根目录）的基本路径。这是在服务器进行虚拟到真实路径的映像后的结果。<br>    $_SERVER[‘SCRIPT_NAME’]         ||    包含当前脚本的路径。这在页面需要指向自己时非常有用。<strong>FILE</strong> 常量包含当前脚本(例如包含文件)的完整路径和文件名。<br>    $_SERVER[‘SCRIPT_URI’]          ||    URI 用来指定要访问的页面。例如 “/index.html”。</p>
<h3 id="PHP-REQUEST"><a href="#PHP-REQUEST" class="headerlink" title="PHP $_REQUEST"></a>PHP $_REQUEST</h3><ul>
<li>PHP $_REQUEST 用于收集HTML表单提交的数据。</li>
</ul>
<p>以下实例显示了一个输入字段（input）及提交按钮(submit)的表单(form)。 当用户通过点击 “Submit” 按钮提交表单数据时, 表单数据将发送至<form>标签中 action 属性中指定的脚本文件。 在这个实例中，我们指定文件来处理表单数据。如果你希望其他的PHP文件来处理该数据，你可以修改该指定的脚本文件名。 然后，我们可以使用超级全局变量 $_REQUEST 来收集表单中的 input 字段数据:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form method=&quot;post&quot; action=&quot;&lt;?php echo $_SERVER[&apos;PHP_SELF&apos;];?&gt;&quot;&gt;</span><br><span class="line">Name: &lt;input type=&quot;text&quot; name=&quot;fname&quot;&gt;</span><br><span class="line">&lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;?php </span><br><span class="line">$name = $_REQUEST[&apos;fname&apos;]; </span><br><span class="line">echo $name; </span><br><span class="line">?&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></form></p>
<h3 id="PHP-POST"><a href="#PHP-POST" class="headerlink" title="PHP $_POST"></a>PHP $_POST</h3><ul>
<li>PHP $_POST 被广泛应用于收集表单数据，在HTML form标签的指定该属性：”method=”post”。</li>
</ul>
<p>以下实例显示了一个输入字段（input）及提交按钮(submit)的表单(form)。 当用户通过点击 “Submit” 按钮提交表单数据时, 表单数据将发送至<form>标签中 action 属性中指定的脚本文件。 在这个实例中，我们指定文件来处理表单数据。如果你希望其他的PHP文件来处理该数据，你可以修改该指定的脚本文件名。 然后，我们可以使用超级全局变量 $_POST 来收集表单中的 input 字段数据:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form method=&quot;post&quot; action=&quot;&lt;?php echo $_SERVER[&apos;PHP_SELF&apos;];?&gt;&quot;&gt;</span><br><span class="line">Name: &lt;input type=&quot;text&quot; name=&quot;fname&quot;&gt;</span><br><span class="line">&lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;?php </span><br><span class="line">$name = $_POST[&apos;fname&apos;]; </span><br><span class="line">echo $name; </span><br><span class="line">?&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></form></p>
<h3 id="PHP-GET"><a href="#PHP-GET" class="headerlink" title="PHP $_GET"></a>PHP $_GET</h3><blockquote>
<p>PHP $_GET 同样被广泛应用于收集表单数据，在HTML form标签的指定该属性：”method=”get”。</p>
</blockquote>
<p>-$_GET 也可以收集URL中发送的数据。</p>
<p>假定我们有一个包含参数的超链接HTML页面：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;a href=&quot;test_get.php?subject=PHP&amp;web=runoob.com&quot;&gt;Test $GET&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>当用户点击链接 “Test $GET”, 参数 “subject” 和 “web” 将发送至”test_get.php”,你可以在 “test_get.php” 文件中使用 $_GET 变量来获取这些数据。<br>以下实例显示了 “test_get.php” 文件的代码:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php </span><br><span class="line">echo &quot;Study &quot; . $_GET[&apos;subject&apos;] . &quot; at &quot; . $_GET[&apos;web&apos;];</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a><a class="article-category-link" href="/categories/技术/php/">php</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-php数组" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/23/php数组/" class="article-date">
      <time datetime="2016-05-23T08:05:32.000Z" itemprop="datePublished">2016-05-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/23/php数组/">php数组</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="PHP-数组"><a href="#PHP-数组" class="headerlink" title="PHP 数组"></a>PHP 数组</h2><p>数组能够在单个变量中存储多个值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$cars=array(&quot;Volvo&quot;,&quot;BMW&quot;,&quot;Toyota&quot;);</span><br><span class="line">echo &quot;I like &quot; . $cars[0] . &quot;, &quot; . $cars[1] . &quot; and &quot; . $cars[2] . &quot;.&quot;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>数组是什么？数组是一个能在单个变量中存储多个值的特殊变量。</li>
</ul>
<h2 id="在-PHP-中创建数组"><a href="#在-PHP-中创建数组" class="headerlink" title="在 PHP 中创建数组"></a>在 PHP 中创建数组</h2><p>在 PHP 中，array() 函数用于创建数组：</p>
<blockquote>
<p>array();</p>
</blockquote>
<ul>
<li>在 PHP 中，有三种类型的数组：<blockquote>
<p>数值数组 - 带有数字 ID 键的数组<br>关联数组 - 带有指定的键的数组，每个键关联一个值<br>多维数组 - 包含一个或多个数组的数组</p>
</blockquote>
</li>
</ul>
<h3 id="PHP-数值数组"><a href="#PHP-数值数组" class="headerlink" title="PHP 数值数组"></a>PHP 数值数组</h3><p>这里有两种创建数值数组的方法：</p>
<ul>
<li><p>自动分配 ID 键（ID 键总是从 0 开始）：<br>$cars=array(“Volvo”,”BMW”,”Toyota”);</p>
</li>
<li><p>人工分配 ID 键：<br>$cars[0]=”Volvo”;<br>$cars[1]=”BMW”;<br>$cars[2]=”Toyota”;</p>
</li>
</ul>
<p>下面的实例创建一个名为 $cars 的数值数组，并给数组分配三个元素,然后打印一段包含数组值的文本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$cars=array(&quot;Volvo&quot;,&quot;BMW&quot;,&quot;Toyota&quot;);</span><br><span class="line">echo &quot;I like &quot; . $cars[0] . &quot;, &quot; . $cars[1] . &quot; and &quot; . $cars[2] . &quot;.&quot;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h3 id="获取数组的长度-count-函数"><a href="#获取数组的长度-count-函数" class="headerlink" title="获取数组的长度 - count() 函数"></a>获取数组的长度 - count() 函数</h3><blockquote>
<p>count() 函数用于返回数组的长度（元素的数量）：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$cars=array(&quot;Volvo&quot;,&quot;BMW&quot;,&quot;Toyota&quot;);</span><br><span class="line">echo count($cars);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h3 id="遍历数值数组"><a href="#遍历数值数组" class="headerlink" title="遍历数值数组"></a>遍历数值数组</h3><p>遍历并打印数值数组中的所有值，您可以使用 for 循环，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$cars=array(&quot;Volvo&quot;,&quot;BMW&quot;,&quot;Toyota&quot;);</span><br><span class="line">$arrlength=count($cars);</span><br><span class="line"></span><br><span class="line">for($x=0;$x&lt;$arrlength;$x++)</span><br><span class="line">&#123;</span><br><span class="line">echo $cars[$x];</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h3 id="PHP-关联数组"><a href="#PHP-关联数组" class="headerlink" title="PHP 关联数组"></a>PHP 关联数组</h3><ul>
<li><p>关联数组是使用分配给指定键以值的数组。</p>
</li>
<li><p>这里有两种创建关联数组的方法：</p>
<blockquote>
<p>$age=array(“Peter”=&gt;”35”,”Ben”=&gt;”37”,”Joe”=&gt;”43”);</p>
</blockquote>
</li>
</ul>
<p>or:</p>
<blockquote>
<p>$age[‘Peter’]=”35”;<br>$age[‘Ben’]=”37”;<br>$age[‘Joe’]=”43”;</p>
</blockquote>
<p>随后可以在脚本中使用指定的键：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$age=array(&quot;Peter&quot;=&gt;&quot;35&quot;,&quot;Ben&quot;=&gt;&quot;37&quot;,&quot;Joe&quot;=&gt;&quot;43&quot;);</span><br><span class="line">echo &quot;Peter is &quot; . $age[&apos;Peter&apos;] . &quot; years old.&quot;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="遍历关联数组"><a href="#遍历关联数组" class="headerlink" title="遍历关联数组"></a>遍历关联数组</h3><p>遍历并打印关联数组中的所有值，您可以使用 foreach 循环，如下所示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$age=array(&quot;Peter&quot;=&gt;&quot;35&quot;,&quot;Ben&quot;=&gt;&quot;37&quot;,&quot;Joe&quot;=&gt;&quot;43&quot;);</span><br><span class="line">foreach($age as $x=&gt;$x_value)</span><br><span class="line">&#123;</span><br><span class="line">echo &quot;Key=&quot; . $x . &quot;, Value=&quot; . $x_value;</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a><a class="article-category-link" href="/categories/技术/php/">php</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/5/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/7/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2016 findmoon
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank">spfk</a> by luuman
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >外地到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>